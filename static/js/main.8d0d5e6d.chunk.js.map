{"version":3,"sources":["components/Modal/SettingsMenuItem.module.css","settings/settings.js","components/simpleElements/StyledElements.js","components/Footer/Footer.jsx","store/tableReducer.js","components/simpleElements/Icon.jsx","components/Header/MenuItem.jsx","components/simpleElements/Button.jsx","components/context/index.js","components/Forms/SaveCloseButtons.jsx","components/Forms/TableSettingsForm.jsx","components/Modal/withModal.jsx","components/Forms/CommonSettingsForm.jsx","components/Header/Reports.jsx","store/authReducer.js","components/Header/Header.jsx","store/headerContainerSelector.js","components/Header/HeaderContainer.jsx","components/simpleElements/TodayMarker.jsx","components/Table/Table-cell/MonthCell.jsx","Utils/utils.js","assets/images/rent_preloader.svg","components/simpleElements/RentPreloader.jsx","components/Table/Rent.jsx","components/Forms/OrderCreationForm.jsx","Utils/commonUtils.js","components/Table/Table-cell/TableCell.jsx","components/Table/TableRow.jsx","components/Table/Table-cell/DatePicker.jsx","components/Table/Table-cell/FirstHeaderCell.jsx","components/Table/TableHeader.jsx","components/Table/TableBody.jsx","api/api.js","store/tableApartmentsReducer.jsx","store/tableBodyContainerSelectors.js","assets/images/preloader.svg","components/simpleElements/Preloader.jsx","components/Table/TableBodyContainer.jsx","components/Table/Table.jsx","store/tableContainerSelectors.js","components/Table/TableContainer.jsx","components/Main/Main.jsx","assets/img.jpg","components/pages/Documentation.jsx","components/pages/Login.jsx","components/AppRouter/urls.js","components/AppRouter/AppRouter.jsx","App.js","reportWebVitals.js","store/store.js","index.js"],"names":["module","exports","borderWidth","border","borderMix","borderStyle","borderColor","displayFlexAlignCenter","todayMarkerZIndex","rentElementsZIndex","btnHeaderZIndex","weekendColor","btnColor","menuItemColor","secondaryColor","MainBgColor","selectionColor","rentElementColor","gridColumnsWidth","gridAutoRowsHeight","gridTemplateFirstColumnWidth","time","hours","minutes","seconds","milliseconds","tariffs","standard_2","standard_3","standard_4","standard_5","comfortable_2","comfortable_3","comfortable_4","comfortable_5","lux_2","lux_3","lux_4","lux_5","maxAdditionalPersons","priceAdditionalPerson","currentCurrency","Legend","styled","legend","Fieldset","fieldset","ErrorMessageElement","span","StyledLink","Link","props","color","size","FooterWrapper","footer","Footer","to","SHIFT_LEFT","SHIFT_RIGHT","SHIFT_NOW","SHIFT_FROM","DAYS_IN_TABLE","from","set","Date","addDays","initialState","daysInTable","interval","start","end","CommonIcon","className","children","Icon","MenuItemWrapper","div","undefined","MenuItemIcon","MenuItemTitle","MenuItem","openModal","iconName","menuItemTitle","onClick","Btn","button","background","isFlex","disabled","Button","type","isDisable","ModalContext","createContext","ButtonsWrapper","SaveCloseButtons","notSave","closeModal","useContext","TableSettingsForm","changeDaysInTable","initialValues","onSubmit","values","setFieldValue","name","min","max","title","withModal","WrappedComponent","useState","isOpenModal","showModal","setShowModal","hasOwnProperty","setIsOpenModal","isOpen","contentLabel","style","Modal","overlayClassName","Overlay","onRequestClose","shouldCloseOnOverlayClick","shouldCloseOnEsc","Provider","value","setAppElement","SettingsExample","settings","CommonSettingsForm","Object","keys","map","item","htmlFor","readOnly","includes","Report","updateCharts","bind","state","optionsMixedChart","chart","id","toolbar","show","plotOptions","bar","columnWidth","stroke","width","xaxis","categories","markers","strokeWidth","fillOpacity","strokeOpacity","hover","yaxis","tickAmount","seriesMixedChart","data","optionsRadial","radialBar","startAngle","endAngle","hollow","margin","image","imageOffsetX","imageOffsetY","position","dropShadow","enabled","top","left","blur","opacity","track","dataLabels","showOn","offsetY","fontSize","formatter","val","fill","gradient","shade","shadeIntensity","gradientToColors","inverseColors","opacityFrom","opacityTo","stops","lineCap","labels","seriesRadial","optionsBar","stacked","stackType","horizontal","axisBorder","axisTicks","horizontalAlign","seriesBar","newMixedSeries","newBarSeries","this","forEach","s","Math","floor","random","push","setState","textAlign","options","series","height","closeHandler","Component","SET_USER_DATA","user","userId","email","login","isAuth","setAuthUserData","payload","authReducer","action","HeaderWrapper","header","LeftSideMenu","nav","TableSettingsMenuItem","getDaysInTable","table","getIsAuth","auth","getUser","HeaderContainer","connect","days","logout","dispatch","Circle","VerticalLine","TodayMarker","Months","daysInCurrentMonth","MonthCellTitle","strong","MonthCell","leftBtn","monthName","yearOfDate","rightBtn","locale","enGB","dayOfMonth","day","format","dayOfWeek","month","dateToString","date","getTime","isDayBefore","day1","day2","startOfDay","intervalLength","differenceInCalendarDays","setTimeToDate","split","adjustsInterval","isSelectInterval","apartmentIdForSelect","currentId","isWithinInterval","shifterViewedRentIntervals","rangeBorder","shiftFunction","viewRentIntervals","apartmentId","index","isArrow","apartmentsByType","rangeInterval","rentInfo","rentInterval","CreateViewRentIntervals","rentInfos","reduce","acc","newViewRentInterval","rentInfoInterval","outerInterval","innerInterval","visibleInterval","isSameDay","checkAndReturnNewViewRentInterval","collectObjects","apartmentsArray","apartment","filter","PreloaderWrapper","preloader","RentPreloader","RentWrapper","attrs","forTooltip","cellDimensions","viewRentInterval","Arrow","FullName","Tag","bottom","right","Ul","ul","TooltipSpan","LikeFormField","H2","h2","OrderCreationForm","apartmentsType","numberOfPersons","createUpdateRentInfo","deleteRentInfo","personInfo","firstName","lastName","phone","additionalPersons","persons","tariff","percentageDiscount","moneyDiscount","price","comment","tariffPrice","checkInTime","checkOutTime","checkIn","nights","checkOut","closeOnSave","validationSchema","Yup","required","matches","test","parseFloat","obj","newRentInfo","objKey","Number","data-tip","data-for","float","place","effect","autoFocus","component","as","Array","num","InfoFormField","fieldName","isAdditionalPersons","PriceField","rows","cols","verticalAlign","marginLeft","field","useFormikContext","personsAddsSum","restProps","useField","meta","useEffect","toFixed","getPrice","moneyDiscountCalc","touched","error","CellWrapper","isSelect","isWeekend","TopString","topStringFontWeight","BottomString","bottomStringFontWeight","ModalRent","isLeftArrow","isRightArrow","isUpdating","TableCell","isToday","isRent","topString","bottomString","TableRow","firstCell","rowTitle","rowCells","parseDate","str","parsed","dateFnsParse","DateUtils","isDate","formatDate","dateFnsFormat","DatePicker","selectedDay","fromDay","isEmpty","FORMAT","dayPickerProps","todayButton","placeholder","keepFocus","inputProps","onDayChange","modifiers","dayPickerInput","input","getInput","trim","onDayPickerHide","shiftFrom","handleDayPickerHide","Wrapper","DateChoiceWrapper","ColumnTitle","FirstHeaderCell","TableHeader","shiftLeft","shiftDateIntervalLeft","shiftRight","shiftDateIntervalRight","shiftNow","shiftDateIntervalNow","shiftDateIntervalFrom","months","eachMonthOfInterval","headerDaysCells","monthsCells","isAfter","startOfMonth","endOfMonth","firstMonth","lastMonth","length","toMonths","Cell","weight","TableBody","apartments","freeApartments","Fragment","ApartmentsRowsByNumbers","selectInterval","leftSideShiftLeftViewRentInterval","leftSideShiftRightViewRentInterval","rightSideShiftLeftViewRentInterval","rightSideShiftRightViewRentInterval","bodyDaysCells","array","i","isDayStartRentalInterval","apartmentRentInterval","firstTableDay","lastTableDay","sort","a","b","apartmentsNumber","instance","axios","baseURL","headers","apartmentsApi","get","then","response","patch","post","rentInfoId","delete","APARTMENTS","VIEW_RENT_INTERVALS","TOGGLE_IS_FETCHING","TOGGLE_IS_UPDATING","IS_SELECT","START_SELECTION_INTERVAL","END_SELECTION_INTERVAL","CLEAR_SELECTED_DAYS","APARTMENT_ID","RENT_INTERVAL","LEFT_SIDE_SHIFT_LEFT_VIEW_RENT_INTERVAL","LEFT_SIDE_SHIFT_RIGHT_VIEW_RENT_INTERVAL","RIGHT_SIDE_SHIFT_LEFT_VIEW_RENT_INTERVAL","RIGHT_SIDE_SHIFT_RIGHT_VIEW_RENT_INTERVAL","RENT_INFO","OPEN_MODAL","CANCEL_RENT","isFetching","setApartments","setViewRentIntervals","toggleIsFetching","toggleIsUpdating","setRentInfo","cancelRent","getApartments","tableApartments","getViewRentIntervals","getCellDimensions","getTariffs","getIsOpenModal","getIsFetching","getIsUpdating","getDays","eachDayOfInterval","getFreeApartments","createSelector","apartmentType","some","areIntervalsOverlapping","inclusive","element","Preloader","src","alt","mapDispatchToProps","requestApartments","getState","collection","operation","statusText","console","ownProps","TableWrapper","getInterval","getIsSelect","getApartmentId","getSelectInterval","FromDay","setSelecting","setStartSelection","startSelection","setEndSelection","endSelection","setApartmentId","clearSelectedDays","setRentInterval","TableContainer","handleSelect","event","target","closest","dayStr","dataset","apartment_id","apartments_type","onMouseDown","onMouseUp","onMouseOver","MainWrapper","main","DocWrapper","Documentation","img","LoginWrapper","StyledFieldset","StatusField","errors","api","Submit","isValid","password","actions","Error","e","setErrors","message","shape","privateRoutes","path","exact","publicRoutes","Login","whichRoute","toPath","route","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","reducers","combineReducers","subDays","_","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","ReduxThunk","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"mGACAA,EAAOC,QAAU,CAAC,MAAQ,gCAAgC,QAAU,oC,wrCCAvDC,EAAc,EACdC,EAAM,UAAMD,EAAN,kBAEZ,SAASE,IAEgC,IAFtBF,EAEqB,uDAFT,MACZG,EACqB,uDADT,QACZC,EAAqB,uDAAT,QAClC,MAAM,GAAN,OAAUJ,EAAV,YAAyBG,EAAzB,YAAwCC,GAGrC,I,UAAMC,EAAyB,qCAIzBC,EAAoB,IACpBC,EAAqB,IACrBC,EAAkB,IAIlBC,EAAe,YACfC,EAAW,UACXC,EAAgB,UAChBC,EAAiB,gBACjBC,EAAc,YACdC,EAAiB,UACjBC,EAAmB,UAInBC,EAAmB,GACnBC,EAAqB,GACrBC,EAA+B,QAI/BC,EAAO,CAACC,MAAM,GAAIC,QAAQ,EAAGC,QAAQ,EAAGC,aAAa,GAGrDC,EAAU,CACnBC,WAAY,IACZC,WAAY,KACZC,WAAY,IACZC,WAAY,KACZC,cAAe,IACfC,cAAe,KACfC,cAAe,IACfC,cAAe,KACfC,MAAO,IACPC,MAAO,IACPC,MAAO,IACPC,MAAO,KAEEC,EAAuB,EACvBC,EAAwB,IACxBC,EAAkB,qB,QCpDlBC,EAASC,IAAOC,OAAV,iJAONC,EAAWF,IAAOG,SAAV,oDAIRC,EAAsBJ,IAAOK,KAAV,yGAOnBC,EAAcN,YAAOO,IAAPP,CAAJ,oJAEZ,SAAAQ,GAAK,OAAIA,EAAMC,OAAS,WACpB,SAAAD,GAAK,OAAIA,EAAME,MAAQ,a,OCnBhCC,EAAgBX,IAAOY,OAAV,yHAEPpD,EACIW,EACZP,GAIG,SAASiD,EAAOL,GACnB,OAAO,cAACG,EAAD,UACH,cAACL,EAAD,CAAYQ,GAAG,OAAOJ,KAAM,OAA5B,6B,8CCZFK,EAAa,aACbC,EAAc,cACdC,EAAY,YACZC,EAAa,aACbC,GAAgB,gBAEhBC,GAAOC,YAAI,IAAIC,KAAO5C,GACtBoC,GAAKS,YAAQH,GAAM,IAEnBI,GAAc,CAChBC,YAAa,GACbC,SAAU,CAACC,MAAOP,GAAMQ,IAAKd,KAiDjC,I,YC5Dae,GAAa,SAAC,GAAD,IAAGC,EAAH,EAAGA,UAAWC,EAAd,EAAcA,SAAd,OACtB,sBAAMD,UAAW,kBAAoBA,EAArC,SACCC,KAIQC,GAAOhC,YAAO6B,GAAP7B,CAAH,mDACF,qBAAEU,QCLXuB,GAAkBjC,IAAOkC,IAAV,mbACjBtE,EAEQH,OAAW0E,OAAUA,EAAU,WAErBjE,GAehBkE,GAAepC,YAAOgC,GAAPhC,CAAH,8CAIZqC,GAAgBrC,IAAOK,KAAV,kDAIZ,SAASiC,GAAS9B,GACrB,IAAO+B,EAAwC/B,EAAxC+B,UAAWC,EAA6BhC,EAA7BgC,SAAUC,EAAmBjC,EAAnBiC,cAE5B,OACI,eAACR,GAAD,CAAiBS,QAASH,EAA1B,UACI,cAACH,GAAD,UAAeI,IACdC,GAAiB,cAACJ,GAAD,UAAgBI,O,eCjCxCE,GAAM3C,IAAO4C,OAAV,mOACM,qBAAElC,MAAkB,WACb,qBAAEmC,YAA8B5E,IAGvCO,GACF,qBAAEsE,QAAsB,UACpB,qBAAEA,QAAsB,YAC5B,qBAAEA,QAAsB/E,KAExB,SAAAyC,GAAK,OAAIA,EAAMuC,SAAW,GAAM,KAGtC,SAASC,GAAOxC,GACnB,IAAQkC,EAA0ElC,EAA1EkC,QAAShC,EAAiEF,EAAjEE,KAAMoC,EAA2DtC,EAA3DsC,OAAQN,EAAmDhC,EAAnDgC,SAAUT,EAAyCvB,EAAzCuB,SAAUkB,EAA+BzC,EAA/ByC,KAAMJ,EAAyBrC,EAAzBqC,WAAYK,EAAa1C,EAAb0C,UAErE,OACI,eAACP,GAAD,CAAKD,QAASA,EAAShC,KAAMA,EAAMoC,OAAQA,EAAQG,KAAMA,EAAMJ,WAAYA,EAAYE,SAAUG,EAAjG,UACKV,GAAY,cAAC,GAAD,UAAaA,IACzBT,GAAY,+BAAOA,OCvBzB,I,GAAMoB,GAAeC,wBAAc,MCIpCC,GAAiBrD,IAAOkC,IAAV,gGAOb,SAASoB,GAAiB9C,GAC7B,IAAO+C,EAAW/C,EAAX+C,QACDC,EAAaC,qBAAWN,IAE9B,OACQ,eAACE,GAAD,YACME,GAAW,cAACP,GAAD,CAAQC,KAAK,SAASvC,KAAM,QAA5B,kBACb,cAACsC,GAAD,CAAQC,KAAK,SAASP,QAASc,EAAY9C,KAAM,QAAjD,sBCdT,I,GAAMgD,GAAoB,SAAClD,GAC9B,IAAMiB,EAAoCjB,EAApCiB,YAAakC,EAAuBnD,EAAvBmD,kBAKnB,OACI,cAAC,KAAD,CACIC,cAAe,CAACnC,YAAaA,GAC7BoC,SAAU,SAACC,GACPH,EAAkBG,EAAOrC,cAHjC,SAMK,gBAAEsC,EAAF,EAAEA,cAAF,OACD,eAAC,KAAD,WACI,eAAC7D,EAAD,WACI,cAACH,EAAD,UAAQ,oDACR,cAAC,KAAD,CAAOiE,KAAK,cAAcf,KAAK,SAASgB,IAd5C,GAcsDC,IAbtD,IAagEC,MAAK,8BAdrE,GAcqE,uCAbrE,OAcI,cAACnB,GAAD,CAAQC,KAAK,SACLvC,KAAM,QACNgC,QAAS,kBAAMqB,EAAc,cAjBzC,KAeI,sBAOJ,cAACT,GAAD,W,mDCvBT,SAASc,GAAUC,GACtB,OAAO,SAAC7D,GACJ,MAAgC8D,mBAAS9D,EAAM+D,cAAe,GAA9D,oBAAKC,EAAL,KAAgBC,EAAhB,KAEMjB,EAAa,WACfiB,GAAa,GACTjE,EAAMkE,eAAe,mBAAmBlE,EAAMmE,gBAAe,IAGrE,OACI,qCACI,cAACN,EAAD,aAAkB9B,UARR,kBAAMkC,GAAa,KAQejE,IAC5C,cAAC,KAAD,CAAOoE,OAAQJ,EACRK,aAAc,WACd/C,UAAWgD,KAAMC,MACjBC,iBAAkBF,KAAMG,QACxBC,eAAgB1B,EAChB2B,2BAA2B,EAC3BC,kBAAkB,EANzB,SAQI,cAACjC,GAAakC,SAAd,CAAuBC,MAAO9B,EAA9B,SACKhD,EAAMuB,iBAvB/BgD,KAAMQ,cAAc,SCCpB,I,MAAMC,GAAkBxF,IAAOkC,IAAV,4JAIC,SAAA1B,GAAK,OAAIA,EAAMqC,aACzB4C,GAICC,GAAqB,WAC9B,OACI,cAAC,KAAD,CACI9B,cAAe6B,EADnB,SAGI,eAAC,KAAD,WACI,6JAICE,OAAOC,KAAKH,GAAUI,KAAI,SAAAC,GACvB,MAC8B,oBAAnBL,EAASK,IAAwB,eAAC,WAAD,WACpC,uBAAOC,QAASD,EAAhB,SAAuBA,IACvB,cAAC,KAAD,CAAO9B,KAAM8B,EAAM7C,KAAK,OAAO+C,UAAQ,IACtCF,EAAKG,SAAS,UAAY,cAACT,GAAD,CAAkB3C,WAAY4C,EAASK,KAClE,yBAJmDA,MAS/D,cAACxC,GAAD,CAAkBC,SAAO,U,iEChC5B2C,GAAb,oDACI,WAAY1F,GAAQ,IAAD,+BACf,cAAMA,IAED2F,aAAe,EAAKA,aAAaC,KAAlB,iBAEpB,EAAKC,MAAQ,CACTC,kBAAmB,CACfC,MAAO,CACHC,GAAI,YACJC,QAAS,CACLC,MAAM,IAGdC,YAAa,CACTC,IAAK,CACDC,YAAa,QAGrBC,OAAQ,CACJC,MAAO,CAAC,EAAG,EAAG,IAElBC,MAAO,CACHC,WAAY,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,QAElEC,QAAS,CACLxG,KAAM,EACNyG,YAAa,EACbC,YAAa,EACbC,cAAe,EACfC,MAAO,CACH5G,KAAM,IAGd6G,MAAO,CACHC,WAAY,EACZvD,IAAK,EACLC,IAAK,MAGbuD,iBAAkB,CACd,CACIzD,KAAM,WACNf,KAAM,OACNyE,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAEvC,CACI1D,KAAM,WACNf,KAAM,SACNyE,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,KAEvC,CACI1D,KAAM,WACNf,KAAM,SACNyE,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,MAG3CC,cAAe,CACXhB,YAAa,CACTiB,UAAW,CACPC,YAAa,IACbC,SAAU,IACVC,OAAQ,CACJC,OAAQ,EACRtH,KAAM,MACNmC,WAAY,OACZoF,WAAO9F,EACP+F,aAAc,EACdC,aAAc,EACdC,SAAU,QACVC,WAAY,CACRC,SAAS,EACTC,IAAK,EACLC,KAAM,EACNC,KAAM,EACNC,QAAS,MAGjBC,MAAO,CACH9F,WAAY,OACZsE,YAAa,MACba,OAAQ,EACRK,WAAY,CACRC,SAAS,EACTC,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,QAAS,MAIjBE,WAAY,CACRC,OAAQ,SACR7E,KAAM,CACF8E,SAAU,GACVpC,MAAM,EACNjG,MAAO,OACPsI,SAAU,QAEdzD,MAAO,CACH0D,UAAW,SAAUC,GACjB,OAAOA,GAEXxI,MAAO,OACPsI,SAAU,OACVrC,MAAM,MAKtBwC,KAAM,CACFjG,KAAM,WACNkG,SAAU,CACNC,MAAO,OACPnG,KAAM,aACNoG,eAAgB,GAChBC,iBAAkB,CAAC,WACnBC,eAAe,EACfC,YAAa,EACbC,UAAW,EACXC,MAAO,CAAC,EAAG,OAGnB5C,OAAQ,CACJ6C,QAAS,SAEbC,OAAQ,CAAC,YAEbC,aAAc,CAAC,IACfC,WAAY,CACRvD,MAAO,CACHwD,SAAS,EACTC,UAAW,OACXvD,QAAS,CACLC,MAAM,IAGdC,YAAa,CACTC,IAAK,CACDqD,YAAY,IAGpBrB,WAAY,CACRP,WAAY,CACRC,SAAS,IAGjBxB,OAAQ,CACJC,MAAO,GAEXC,MAAO,CACHC,WAAY,CAAC,aACb2C,OAAQ,CACJlD,MAAM,GAEVwD,WAAY,CACRxD,MAAM,GAEVyD,UAAW,CACPzD,MAAM,IAGdwC,KAAM,CACFR,QAAS,EACTzF,KAAM,WACNkG,SAAU,CACNC,MAAO,OACPnG,KAAM,WACNoG,eAAgB,IAChBC,sBAAkBnH,EAClBoH,eAAe,EACfC,YAAa,IACbC,UAAW,IACXC,MAAO,CAAC,GAAI,EAAG,OAIvBzJ,OAAQ,CACJmI,SAAU,SACVgC,gBAAiB,UAGzBC,UAAW,CACP,CACIrG,KAAM,OACN0D,KAAM,CAAC,KAEX,CACI1D,KAAM,QACN0D,KAAM,CAAC,KAEX,CACI1D,KAAM,SACN0D,KAAM,CAAC,KAEX,CACI1D,KAAM,MACN0D,KAAM,CAAC,OApMJ,EADvB,iDA2MI,WACI,IAEM4C,EAAiB,GACjBC,EAAe,GAErBC,KAAKnE,MAAMoB,iBAAiBgD,SAAQ,SAACC,GACjC,IAAMhD,EAAOgD,EAAEhD,KAAK7B,KAAI,WACpB,OAAO8E,KAAKC,MAAM,GAAAD,KAAKE,UANnB,MAQRP,EAAeQ,KAAK,CAAEpD,KAAMA,EAAMzE,KAAMyH,EAAEzH,UAG9CuH,KAAKnE,MAAMgE,UAAUI,SAAQ,SAACC,GAC1B,IAAMhD,EAAOgD,EAAEhD,KAAK7B,KAAI,WACpB,OAAO8E,KAAKC,MAAM,IAAAD,KAAKE,UAbnB,MAeRN,EAAaO,KAAK,CAAEpD,OAAM1D,KAAM0G,EAAE1G,UAGtCwG,KAAKO,SAAS,CACVtD,iBAAkB6C,EAClBD,UAAWE,EACXV,aAAc,CAACc,KAAKC,MAAM,GAAAD,KAAKE,UAA4B,QAlOvE,oBAsOI,WACI,OACI,qCACI,oBAAI/F,MAAO,CAACrE,MAAO,UAAWuK,UAAW,UAAzC,0DACA,sBAAKlJ,UAAU,MAAf,UACI,sBAAKA,UAAU,MAAf,UACI,qBAAKA,UAAU,kBAAf,SACI,cAAC,KAAD,CACImJ,QAAST,KAAKnE,MAAMC,kBACpB4E,OAAQV,KAAKnE,MAAMoB,iBACnBxE,KAAK,OACL8D,MAAM,UAId,qBAAKjF,UAAU,mBAAf,SACI,cAAC,KAAD,CACImJ,QAAST,KAAKnE,MAAMsB,cACpBuD,OAAQV,KAAKnE,MAAMwD,aACnB5G,KAAK,YACL8D,MAAM,aAKlB,sBAAKjF,UAAU,MAAf,UACI,qBAAKA,UAAU,uBAAf,SACI,cAAC,KAAD,CACImJ,QAAST,KAAKnE,MAAMyD,WACpBqB,OAAQ,IACRD,OAAQV,KAAKnE,MAAMgE,UACnBpH,KAAK,MACL8D,MAAO,QAIf,mBAAGjF,UAAU,MAAb,SACI,wBAAQY,QAAS8H,KAAKrE,aAAtB,6BAKZ,cAAC7C,GAAD,CAAkB8H,aAAcZ,KAAKhK,MAAMgD,WAAYD,SAAO,WAhR9E,GAA4B8H,aCJtBC,GAAgB,mCAElBC,GACQ,EADRA,GAEO,mBAFPA,GAGO,OAHPA,GAIU,OAGV/J,GAAe,CACfgK,OAAQ,KACRC,MAAO,KACPC,MAAO,KACPC,QAAQ,GAgBCC,GAAkB,SAACJ,EAAQC,EAAOC,EAAOC,GAAvB,MAAmC,CAC9D1I,KAAMqI,GAAeO,QACjB,CAACL,SAAQC,QAAOC,QAAOC,YAuBhBG,GAtCK,WAAmC,IAAlCzF,EAAiC,uDAAzB7E,GAAcuK,EAAW,uCAClD,OAAQA,EAAO9I,MACX,KAAKqI,GACD,OAAO,2BACAjF,GACA0F,EAAOF,SAElB,QACI,OAAOxF,ICZb2F,GAAgBhM,IAAOiM,OAAV,kIAEPzO,EACIW,EACZP,GAIEsO,GAAelM,IAAOmM,IAAV,qEACdvO,GAIEwO,GAAwBhI,GAAU9B,IC1BjC,IAAM+J,GAAiB,SAAChG,GAAD,OAAWA,EAAMiG,MAAM7K,aACxC8K,GAAY,SAAClG,GAAD,OAAWA,EAAMmG,KAAKb,QAClCc,GAAU,SAACpG,GAAD,OAAWA,EAAMmG,KAAKd,OCYtC,I,MAAMgB,GAAkBC,aAR/B,SAAyBtG,GACrB,MAAO,CACH5E,YAAa4K,GAAehG,GAC5BsF,OAAQY,GAAUlG,GAClBkF,KAAMkB,GAAQpG,MAIqC,CAAC1C,kBbqDlC,SAACiJ,GAAD,MAAW,CAAC3J,KAAM9B,GAAeyL,SarDoBC,OHqCzD,kBAAM,SAACC,GACzBA,EAASlB,GAAgB,KAAM,KAAM,MAAM,OGtChBe,EFcxB,SAAgBnM,GACnB,IAAOiB,EAAwDjB,EAAxDiB,YAAakC,EAA2CnD,EAA3CmD,kBAAmBgI,EAAwBnL,EAAxBmL,OAAQkB,EAAgBrM,EAAhBqM,OAAQtB,EAAQ/K,EAAR+K,KAEvD,OACI,eAACS,GAAD,WACI,eAACE,GAAD,WACI,cAAC5L,EAAD,CAAYQ,GAAG,IAAf,SAAmB,cAACkB,GAAD,CAAMtB,KAAM,GAAZ,qBAEnB,cAAC0L,GAAD,CAAuB5J,SAAU,UAAWC,cAAe,OAA3D,SACI,cAAC,GAAD,CAAmBhB,YAAaA,EAAakC,kBAAmBA,MAGpE,cAACyI,GAAD,CAAuB5J,SAAU,WAAYC,cAAe,WAA5D,SACI,cAAC,GAAD,MAGJ,cAAC2J,GAAD,CAAuB5J,SAAU,uBAAwBC,cAAe,UAAxE,SACI,cAAC,GAAD,SAIR,8BACMkJ,EAEI,qBAAKjJ,QAASmK,EAAd,SAAsB,cAACvK,GAAD,CAAUE,SAAU,SAAUC,cAAe8I,MADnE,cAACjL,EAAD,CAAYQ,GAAG,SAAf,SAAwB,cAACwB,GAAD,CAAUE,SAAU,oB,kBG9C5DuK,GAAS/M,IAAOkC,IAAV,uLAQCrE,GAGPmP,GAAehN,IAAOkC,IAAV,mJAMLrE,GAGN,SAASoP,KACZ,OACA,qCACI,cAACF,GAAD,IACA,cAACC,GAAD,O,qHCxBFE,GAASlN,IAAOkC,IAAV,4HACU,SAAA1B,GAAK,OAAIA,EAAM2M,qBACzB3P,EACRI,GACiB,SAAA4C,GAAK,OAAIA,EAAM2M,mBAAqB,EAAI,gBAAkB3M,EAAM4H,YAI/EgF,GAAiBpN,IAAOqN,OAAV,oDAIb,SAASC,GAAU9M,GACtB,IAAO2M,EAA0E3M,EAA1E2M,mBAAoB/E,EAAsD5H,EAAtD4H,SAAUmF,EAA4C/M,EAA5C+M,QAASC,EAAmChN,EAAnCgN,UAAWC,EAAwBjN,EAAxBiN,WAAYC,EAAYlN,EAAZkN,SAErE,OACI,eAACR,GAAD,CAAQC,mBAAsBA,EAAoB/E,SAAUA,EAA5D,UACKmF,EADL,IACeJ,EAAqB,GAAK,eAACC,GAAD,WAAiBI,EAAjB,IAA6BC,KADtE,IACqGC,KCL7G,IAAMC,GAASC,KACTC,GAAa,SAACC,GAAD,OAASC,aAAOD,EAAK,KAAM,CAACH,aACzCK,GAAY,SAACF,GAAD,OAASC,aAAOD,EAAK,SAAU,CAACH,aAC5CH,GAAY,SAACS,GAAD,OAAWF,aAAOE,EAAO,OAAQ,CAACN,aAE9CO,GAAe,SAACC,GAAD,OAAUJ,aAAOI,EAAM,UAAW,CAACR,aAClDS,GAAU,SAACD,GAAD,OAAUJ,aAAOI,EAAM,QAAS,CAACR,aAC3CU,GAAc,SAACC,EAAMC,GAAP,OAAgBC,aAAWF,GAAQE,aAAWD,IAC5DE,GAAiB,SAAC/M,GAAD,OAAcgN,aAAyBhN,EAASE,IAAKF,EAASC,QAC/EgN,GAAgB,SAACR,EAAMzP,GACzB,MAAyBA,EAAKkQ,MAAM,KAApC,oBAAOjQ,EAAP,KAAcC,EAAd,KACA,OAAOyC,YAAI8M,EAAM,CAACxP,QAAOC,aAiC7B,SAASiQ,GAAgBnN,GACrB,OAAO2M,GAAY3M,EAASE,IAAKF,EAASC,OACpC,CAACA,MAAOD,EAASE,IAAKA,IAAKF,EAASC,OACpCD,EAGV,SAASoN,GAAiBpN,EAAUoM,EAAKiB,EAAsBC,GAC3D,QAAOtN,EAASC,QACVsN,aAAiBnB,EAAKpM,IAAaqN,IAAyBC,GAItE,SAASE,GAA2B7I,EAAO0F,EAAQoD,EAAaC,GAC5D,IAAItB,EAAMzH,EAAMgJ,kBAAkBtD,EAAOuD,aAAavD,EAAOwD,OAAOJ,GAUpE,OATArB,EAAMsB,EAActB,EAAK,IAEzBzH,EAAK,eAAOA,IACNgJ,kBAAN,eAA8BhJ,EAAMgJ,mBACpChJ,EAAMgJ,kBAAkBtD,EAAOuD,aAA/B,aAAkDjJ,EAAMgJ,kBAAkBtD,EAAOuD,cACjFjJ,EAAMgJ,kBAAkBtD,EAAOuD,aAAavD,EAAOwD,OAAnD,2BACOlJ,EAAMgJ,kBAAkBtD,EAAOuD,aAAavD,EAAOwD,QAD1D,mBAEKJ,EAAcrB,IAEZzH,EAYX,SAASmJ,GAAQH,EAAmBI,EAAkBjJ,EAAI+I,EAAOG,GAAgB,IAAD,YAC5E,MAAyB,UAAlBA,EACDL,EAAkB7I,IAAO6H,GAAW,UAACoB,EAAiBjJ,UAAlB,iBAAC,EAAsBmJ,SAASJ,UAAhC,aAAC,EAAuCK,aAAajO,MAArD,UAA4D0N,EAAkB7I,GAAI+I,UAAlF,aAA4D,EAA8B5N,OAC9H0N,EAAkB7I,IAAO6H,GAAW,UAACgB,EAAkB7I,GAAI+I,UAAvB,aAAC,EAA8B3N,IAA/B,UAAoC6N,EAAiBjJ,UAArD,iBAAoC,EAAsBmJ,SAASJ,UAAnE,aAAoC,EAAuCK,aAAahO,KAqCtI,SAASiO,GAAwBC,EAAWpO,GACxC,OAAOoO,EAAUC,QAAO,SAACC,EAAKL,GAC1B,IAAMM,EA9Bd,SAA2CC,EAAkBxO,GACzD,IA/EiCyO,EAAeC,EA+E5CC,EAAkB,KACtB,OAAIC,aAAUJ,EAAiBvO,MAAOD,EAASE,KACpC,CAACD,MAAOuO,EAAiBvO,MAAOC,IAAKsO,EAAiBvO,OAE7D2O,aAAUJ,EAAiBtO,IAAKF,EAASC,OAClC,CAACA,MAAOuO,EAAiBtO,IAAKA,IAAKsO,EAAiBtO,MAG3DqN,aAAiBiB,EAAiBtO,IAAKF,KACnC4O,aAAUJ,EAAiBvO,MAAOD,EAASC,QACxC0M,GAAY6B,EAAiBvO,MAAOD,EAASC,UAEpD0O,EAAe,2BAAOH,GAAP,IAAyBvO,MAAOD,EAASC,SAGxDsN,aAAiBiB,EAAiBvO,MAAOD,KACrC4O,aAAUJ,EAAiBtO,IAAKF,EAASE,MACtCyM,GAAY3M,EAASE,IAAKsO,EAAiBtO,QAElDyO,EAAe,2BAAOH,GAAP,IAAyBtO,IAAKF,EAASE,OAlGVwO,EAoGE1O,GApGjByO,EAoGDD,GAnGXvO,MAAQyO,EAAczO,OAASwO,EAAcvO,IAAMwO,EAAcxO,MAoGlFyO,EAAe,eAAO3O,IAEnB2O,GAAmBH,GAKMK,CAAkCZ,EAASC,aAAclO,GAErF,OADAsO,EAAIL,EAASL,aAAb,uBAAgCU,EAAIL,EAASL,cAAgB,IAA7D,CAAiEW,IAC1DD,IACR,IAGP,SAASQ,GAAeC,EAAiBX,GACrC,OAAOW,EAAgB5K,KAAI,SAAA6K,GAEvB,OADAA,EAAUf,SAAWG,EAAUa,QAAO,SAAAhB,GAAQ,OAAIA,EAASL,cAAgBoB,EAAUlK,MAC9EkK,K,kCCnJA,OAA0B,2CCKnCE,GAAmB5Q,IAAOkC,IAAV,+JAIF2O,IAMPC,GAAgB,kBAAM,cAACF,GAAD,KCD7BG,GAAc/Q,IAAOkC,IAAI8O,OAAM,SAAAxQ,GAAK,MAAK,CAAC,WAAY,GAAI,WAAYA,EAAMyQ,cAA9DjR,CAAH,yOAILvC,OAAU0E,OAAWA,EAAW,WACtB7D,GACX,SAAAkC,GAAK,OHmFU0Q,EGnFW1Q,EAAM0Q,eHmFDC,EGnFiB3Q,EAAM2Q,iBHoFtDD,EAAenK,MAAQ0H,GAAe0C,GACN,EAAnC1C,GAAe0C,GAAwB5T,EAAc,KAF7D,IAA0B2T,EAAgBC,KGlF3B,qBAAED,eAAmCnK,MAAQ,EAAI,KACpD,qBAAEmK,eAAmC/F,OAAS,IAC7CrN,GAOPsT,GAAQpR,YAAOgC,GAAPhC,CAAH,gGAGP,SAAAQ,GAAK,OAAIA,EAAM4H,YAIbiJ,GAAWrR,IAAOkC,IAAV,uGAMRoP,GAAMtR,IAAOkC,IAAV,8JAEA,SAAA1B,GAAK,uBAAIA,EAAM+H,WAAV,QAAiB,MACnB,SAAA/H,GAAK,uBAAIA,EAAM+Q,cAAV,QAAoB,MAC3B,SAAA/Q,GAAK,uBAAIA,EAAMgI,YAAV,QAAkB,MACtB,SAAAhI,GAAK,uBAAIA,EAAMgR,aAAV,QAAmB,MACb,SAAAhR,GAAK,OAAIA,EAAMqC,YAAc,eAI7C4O,GAAKzR,IAAO0R,GAAV,6EAKFC,GAAc3R,IAAOK,KAAV,iD,kCC3CXuR,GAAgB5R,IAAOK,KAAV,yOAWbwR,GAAK7R,IAAO8R,GAAV,wEAKD,SAASC,GAAkBvR,GAC9B,IACImP,EACAnP,EADAmP,SAAUJ,EACV/O,EADU+O,MAAOyC,EACjBxR,EADiBwR,eAAgB1C,EACjC9O,EADiC8O,YAAavQ,EAC9CyB,EAD8CzB,QAASkT,EACvDzR,EADuDyR,gBAAiBC,EACxE1R,EADwE0R,qBAAsBC,EAC9F3R,EAD8F2R,eAG5F3O,EAAaC,qBAAWN,IAE9B,EAWIwM,EAVAnJ,UADJ,MACS,KADT,EAEIoJ,EASAD,EATAC,aAFJ,EAWID,EARAyC,WAHJ,gBAGmF,GAHnF,GAGiBC,iBAHjB,MAG6B,YAH7B,MAG0CC,gBAH1C,MAGqD,GAHrD,MAGyD7G,aAHzD,MAGiE,GAHjE,MAGqE8G,aAHrE,MAG6E,GAH7E,IAWI5C,EAPA6C,yBAJJ,MAIwB,EAJxB,IAWI7C,EANA8C,eALJ,MAKc,EALd,IAWI9C,EALA+C,cANJ,MAMa,GANb,IAWI/C,EAJAgD,0BAPJ,MAOyB,EAPzB,IAWIhD,EAHAiD,qBARJ,MAQoB,EARpB,IAWIjD,EAFAkD,aATJ,MASY,EATZ,IAWIlD,EADAmD,eAVJ,MAUc,GAVd,EAaMC,EAAchU,EAAQ2T,IAAW3T,EAAQ,GAAD,OAAIiT,EAAJ,YAAsBC,IAGpE,OACI,cAAC,KAAD,CACIrO,cAAe,CACXyO,YAAWC,WAAU7G,QAAO8G,QAAOC,oBAAmBG,qBAAoBC,gBAAeH,UACzFK,UAASD,QACTG,YAAa5E,GAAQwB,EAAajO,OAClCsR,aAAc7E,GAAQwB,EAAahO,KACnC8Q,OAAQK,EACRG,QAAShF,GAAa0B,EAAajO,OACnCwR,OAAQ1E,GAAemB,GACvBwD,SAAUlF,GAAa0B,EAAahO,KACpCyR,aAAa,GAGjBC,iBAAkBC,KAAW,CACzBlB,UAAWkB,OACNrP,IAAI,GAAI,iCACRsP,SAAS,iBACdlB,SAAUiB,OACLrP,IAAI,GAAI,uCACRsP,SAAS,oBACd/H,MAAO8H,OAAa9H,MAAM,yBAAyB+H,SAAS,mBAC5DjB,MAAOgB,OAAaE,QAxBZ,sFAwBiC,wBACzCZ,MAAOU,OAAaG,KAAK,GAAI,+BAA+B,SAAApO,GAAK,OAAIqO,WAAWrO,IAAU,OAG9FzB,SAAU,SAACC,GACP,ICnEiB8P,EDmEXC,EAAc,CAChBjE,aAAc,CACVjO,MAAOgN,GAAciB,EAAajO,MAAOmC,EAAOkP,aAAa5E,UAC7DxM,IAAK+M,GAAciB,EAAahO,IAAKkC,EAAOmP,cAAc7E,WAE9DgE,WAAY,CACRC,UAAWvO,EAAOuO,UAClBC,SAAUxO,EAAOwO,SACjB7G,MAAO3H,EAAO2H,MACd8G,MAAOzO,EAAOyO,OAElBC,kBAAmB1O,EAAO0O,kBAC1BC,QAAS3O,EAAO2O,QAChBC,QChFakB,EDgFY7U,EC/ElC4G,OAAOC,KAAKgO,GAAK7D,QAAO,SAACC,EAAK8D,GAEjC,OADA9D,EAAI4D,EAAIE,IAAWA,EACZ9D,IACR,KD4E+ClM,EAAO4O,QACzCC,mBAAoB7O,EAAO6O,mBAC3BC,cAAe9O,EAAO8O,cACtBC,MAAO/O,EAAO+O,MACdC,QAAShP,EAAOgP,QAChBxD,YAAayE,OAAOzE,GACpB9I,MAGJ0L,EADkB2B,EAAYrN,GAAK,SAAW,SACdwL,EAAgBzC,EAAOD,EAAauE,GACpE/P,EAAOuP,aAAe7P,KAjD9B,SAoDI,eAAC,KAAD,WACI,eAACqO,GAAD,iCAEI,sBAAMmC,YAAA,EAASC,WAAS,gBAAgBnP,MAAO,CAACoP,MAAM,SAAtD,SACI,cAAClR,GAAD,CACIR,SAAU,SACVK,WAAY,MACZI,KAAM,SACNP,QAAS,WACLyP,EAAeH,EAAgBzC,EAAOD,EAAa9I,GACnDhD,SAIZ,cAAC,KAAD,CAAc2Q,MAAM,SAASlR,KAAK,QAAQmR,OAAO,QAAQ5N,GAAE,gBAA3D,SACI,6BAAI,iEAIZ,eAACtG,EAAD,WACI,cAACH,EAAD,UAAQ,6CACR,uBAAOgG,QAAQ,YAAf,kBACA,cAAC,KAAD,CAAO/B,KAAK,YAAYf,KAAK,OAAOoR,WAAW,IAE/C,uBAAOtO,QAAQ,WAAf,qBACA,cAAC,KAAD,CAAO/B,KAAK,WAAWf,KAAK,SAC5B,cAAC,KAAD,CAAcqR,UAAWlU,EAAqB4D,KAAK,cACnD,cAAC,KAAD,CAAcsQ,UAAWlU,EAAqB4D,KAAK,aACnD,uBACA,uBAAO+B,QAAQ,QAAf,oBACA,cAAC,KAAD,CAAO/B,KAAK,QAAQf,KAAK,UAEzB,uBAAO8C,QAAQ,QAAf,0BACA,cAAC,KAAD,CAAO/B,KAAK,QAAQf,KAAK,SACzB,cAAC,KAAD,CAAcqR,UAAWlU,EAAqB4D,KAAK,UACnD,cAAC,KAAD,CAAcsQ,UAAWlU,EAAqB4D,KAAK,aAGvD,eAAC9D,EAAD,WACI,cAACH,EAAD,UAAQ,qDACR,uBAAOgG,QAAQ,UAAf,sBACA,cAAC,KAAD,CAAO/B,KAAK,UAAUf,KAAK,OAAO+C,UAAQ,IAE1C,uBAAOD,QAAQ,gBACf,cAAC,KAAD,CAAO/B,KAAK,cAAcf,KAAK,SAE/B,uBAAO8C,QAAQ,SAAf,oBACA,cAAC,KAAD,CAAO/B,KAAK,SAASf,KAAK,OAAOvC,KAAK,IAAIsF,UAAQ,IAElD,uBAAOD,QAAQ,WAAf,uBACA,cAAC,KAAD,CAAO/B,KAAK,WAAWf,KAAK,OAAO+C,UAAQ,IAE3C,uBAAOD,QAAQ,iBACf,cAAC,KAAD,CAAO/B,KAAK,eAAef,KAAK,YAGpC,eAAC/C,EAAD,WACI,cAACH,EAAD,UAAQ,0DACR,uBAAOgG,QAAQ,UAAU5B,MAAK,sCAAa8N,GAA3C,SACA,cAACjQ,GAAD,sBAEA,cAAC,KAAD,CAAOgC,KAAK,UAAUf,KAAK,SAASgB,IAAK,EAAGC,IAAK+N,EAC1C9N,MAAK,sCAAa8N,KAEzB,uBAAOlM,QAAQ,oBAAf,SACI,cAAC/D,GAAD,0BAEJ,cAAC,KAAD,CAAOgC,KAAK,oBAAoBuQ,GAAG,SAAnC,SACK,aAAIC,MAAM5U,GAAsBgG,QAAQC,KAAI,SAAA4O,GAAG,OAAI,wBAAQnP,MAAOmP,EAAf,SACmBA,GAANA,QAErE,cAACC,GAAD,CAAeC,UAAW,oBAAqBC,qBAAmB,OAGtE,eAAC1U,EAAD,WACI,cAACH,EAAD,UAAQ,2DACR,uBAAOgG,QAAQ,SAAf,oBACA,cAAC,KAAD,CAAO/B,KAAK,SAASuQ,GAAG,SAAxB,SACK5O,OAAOC,KAAK7G,GAAS8G,KAAI,SAAA6M,GAAM,OAAI,wBAAQpN,MAAOvG,EAAQ2T,GAAvB,SACsBA,GAATA,QAErD,cAACgC,GAAD,CAAeC,UAAW,WAE1B,uBAAO5O,QAAQ,qBAAf,wBACA,cAAC,KAAD,CAAO/B,KAAK,qBAAqBf,KAAK,SAASgB,IAAK,EAAGC,IAAK,MAE5D,uBAAO6B,QAAQ,gBAAf,sBACA,cAAC,KAAD,CAAO/B,KAAK,gBAAgBf,KAAK,SAASgB,IAAK,IAC/C,+BAAOnE,OAGX,eAACI,EAAD,WACI,cAACH,EAAD,UAAQ,oDACR,uBAAOgG,QAAQ,QAAf,0BACA,cAAC8O,GAAD,CAAY7Q,KAAK,QAAQf,KAAK,OAAO2M,aAAcA,EAAc5J,UAAQ,OAG7E,eAAC9F,EAAD,WACI,cAACH,EAAD,UAAQ,+CACR,cAAC,KAAD,CAAOiE,KAAK,UAAUuQ,GAAG,WAAWO,KAAM,EAAGC,KAAM,QAGvD,uBAAOhP,QAAQ,cAAf,6BACA,cAAC,KAAD,CAAO/B,KAAK,cAAcf,KAAK,WAAW6B,MAAO,CAACkQ,cAAe,SAAUC,WAAY,UAEvF,cAAC3R,GAAD,SAMhB,SAASoR,GAAclU,GACnB,IAAOmU,EAAkCnU,EAAlCmU,UAAWC,EAAuBpU,EAAvBoU,oBACSM,EAAWC,eAAjCrR,OAAU6Q,GACTS,EAAiBF,EAAQrV,IAAyB,EACxD,OACI,qCACK+U,GAAuBQ,GAAkB,yCAAG,eAACxD,GAAD,WAAgBwD,EAAhB,IAAiCtV,SAC5E8U,GAAuB,yCAAG,eAAChD,GAAD,WAAgBsD,EAAhB,IAAwBpV,WAahE,SAAS+U,GAAWrU,GAChB,IAAOoP,EAAoCpP,EAApCoP,aAAc5L,EAAsBxD,EAAtBwD,KAASqR,EAA9B,aAA2C7U,EAA3C,yBACA,EAQI2U,eARJ,IACIrR,OACI4O,EAFR,EAEQA,OACAC,EAHR,EAGQA,mBACAC,EAJR,EAIQA,cACAJ,EALR,EAKQA,kBAEJzO,EAPJ,EAOIA,cAEJ,EAAsBuR,aAAStR,GAA/B,oBAAOkR,EAAP,KAAcK,EAAd,KAWA,OATAC,qBAAU,WACN,IAAM3C,EAtBd,SAAkBjG,GAAsC,IAAhC8F,EAA+B,uDAAtB,EAAGF,EAAmB,uCACnDA,EAAoBuB,OAAOvB,IAAsB,EAEjD,IAAMK,EAAQjG,GADd8F,EAASqB,OAAOrB,IAAW,GACGF,EAAoB3S,EAElD,OAAOkU,OAAOlB,EAAM4C,QAAQ,IAiBVC,CAASjH,GAAemB,GAAe8C,EAAQF,GACvDmD,EAAoB5B,QAAQlB,EAAQF,EAAqB,KAAK8C,QAAQ,KAAO7C,EAEnF7O,EAAcC,EAAD,UAAU6O,EAAQ8C,EAAlB,YAAuC7V,IACpDiE,EAAc,gBAAiB4R,KAEhC,CAACjD,EAAQC,EAAoBH,EAAmBI,EAAehD,EAAc5L,IAG5E,qCACI,iDAAWqR,GAAeH,MACvBK,EAAKK,WAAaL,EAAKM,OAAS,cAACzV,EAAD,UAAsBmV,EAAKM,WE9P1E,IAAMC,GAAc9V,IAAOkC,IAAI8O,OAAM,SAAAxQ,GAAK,MACrC,CAAC,YAAaA,EAAM2N,KAAM,oBAAqB3N,EAAM8O,YAAa,uBAAwB9O,EAAMwR,kBADjFhS,CAAH,4JAKL,SAAAQ,GAAK,OAAIA,EAAMuV,SAAW,OAASvY,KACzB,SAAAgD,GAAK,OAAIA,EAAMuV,SAAW1X,EAAiBmC,EAAMwV,UAAYhY,EAAe,aACtF,SAAAwC,GAAK,OAAIA,EAAMuV,SAAW,OAAS,QAGzCE,GAAYjW,IAAOK,KAAV,2EAEE,SAAAG,GAAK,OAAIA,EAAM0V,qBAAuB,UAGjDC,GAAenW,IAAOK,KAAV,mEAED,SAAAG,GAAK,OAAIA,EAAM4V,wBAA0B,UAGpDC,GAAYjS,IHiCX,SAAc5D,GACjB,IAAO+B,EAAgG/B,EAAhG+B,UAAW2O,EAAqF1Q,EAArF0Q,eAAgBC,EAAqE3Q,EAArE2Q,iBAAkBmF,EAAmD9V,EAAnD8V,YAAaC,EAAsC/V,EAAtC+V,aAAc5G,EAAwBnP,EAAxBmP,SAAU6G,EAAchW,EAAdgW,WAErFhQ,EASAmJ,EATAnJ,GACAoJ,EAQAD,EARAC,aAFJ,EAUID,EAPAyC,WAHJ,gBAGgF,GAHhF,GAGiBC,iBAHjB,MAG6B,uCAH7B,MAGuCC,gBAHvC,MAGkD,GAHlD,MAGsD7G,aAHtD,MAG8D,GAH9D,MAGkE8G,aAHlE,MAG0E,GAH1E,IAUI5C,EANA6C,yBAJJ,MAIwB,KAJxB,IAUI7C,EALA+C,cALJ,MAKa,GALb,IAUI/C,EAJAgD,0BANJ,MAMyB,EANzB,IAUIhD,EAHAiD,qBAPJ,MAOoB,EAPpB,IAUIjD,EAFAkD,aARJ,MAQY,EARZ,IAUIlD,EADAmD,eATJ,MASY,GATZ,EAWA,OACI,qCACI,eAAC/B,GAAD,CAAarO,QAASH,EAAW2O,eAAgBA,EAAgBC,iBAAkBA,EAAkBF,WAAU,UAAKzK,GAApH,UACKgQ,EAAWhQ,KAAOA,GAAMgQ,EAAW3F,WAAa,cAAC,GAAD,IAChDyF,GAAe,cAAClF,GAAD,CAAOhJ,SAAU,OAAjB,wBACfmO,GAAgB,cAACnF,GAAD,CAAOhJ,SAAU,QAAjB,yBACjB,eAACiJ,GAAD,WAAWiB,EAAX,IAAsBD,KACtB,cAACf,GAAD,CAAK/I,IAAK,EAAGiJ,MAAO,EAApB,SAAwBqB,IACxB,cAACvB,GAAD,CAAKC,OAAQ,EAAG/I,KAAM,EAAG3F,WAAY,UAArC,SAAiDuL,GAAQwB,EAAajO,SACtE,cAAC2P,GAAD,CAAKC,OAAQ,EAAGC,MAAO,EAAG3O,WAAY,UAAtC,SAAkDuL,GAAQwB,EAAahO,UAE3E,cAAC,KAAD,CAAcuS,MAAM,SAASlR,KAAK,OAAOmR,OAAO,QAAQ5N,GAAE,UAAKA,GAA/D,SACI,eAACiL,GAAD,WACI,8CAAW,cAACE,GAAD,UAAcnL,OACzB,4CAAc,cAACmL,GAAD,UAAczD,GAAa0B,EAAajO,SAAtD,OAA+E,cAACgQ,GAAD,UAAcvD,GAAQwB,EAAajO,YAClH,6CAAe,cAACgQ,GAAD,UAAczD,GAAa0B,EAAahO,OAAvD,OAA8E,cAAC+P,GAAD,UAAcvD,GAAQwB,EAAahO,UACjH,0CAAY,cAAC+P,GAAD,UAAclD,GAAemB,QACxC0C,GAAYD,GAAa,yCAAW,eAACV,GAAD,WAAcW,EAAd,IAAyBD,QAC7D5G,GAAS,yCAAW,cAACkG,GAAD,UAAclG,OAClC8G,GAAS,0CAAY,cAACZ,GAAD,UAAcY,SACjCC,GAAqB,uDAAyB,cAACb,GAAD,UAAca,OAC9DE,GAAU,0CAAY,cAACf,GAAD,UAAce,UACjCC,IAAsBC,IAAkB,4CAAc,eAACjB,GAAD,WAAcgB,EAAd,MAAqCC,EAArC,IAAqD9S,EAArD,aACvD+S,GAAS,gDAAkB,eAAClB,GAAD,WAAckB,EAAd,UAC9B,2CAAa,cAAClB,GAAD,UAAcmB,EAAU,MAAO,qBGpEzD,SAAS2D,GAAUjW,GACtB,IACIwV,EAGAxV,EAHAwV,UAAW7H,EAGX3N,EAHW2N,KAAMmB,EAGjB9O,EAHiB8O,YAAayG,EAG9BvV,EAH8BuV,SAAU/D,EAGxCxR,EAHwCwR,eAAgB0E,EAGxDlW,EAHwDkW,QAASC,EAGjEnW,EAHiEmW,OAAQL,EAGzE9V,EAHyE8V,YAAaC,EAGtF/V,EAHsF+V,aACtF5G,EAEAnP,EAFAmP,SAAUJ,EAEV/O,EAFU+O,MAAOxQ,EAEjByB,EAFiBzB,QAASkT,EAE1BzR,EAF0ByR,gBAAiB1N,EAE3C/D,EAF2C+D,YAAaI,EAExDnE,EAFwDmE,eAAgBuN,EAExE1R,EAFwE0R,qBAAsBC,EAE9F3R,EAF8F2R,eAC9FqE,EACAhW,EADAgW,WAGEI,EAAYpW,EAAMoW,UAAY,cAACX,GAAD,UAAYzV,EAAMoW,YAAyB,KACzEC,EAAerW,EAAMqW,aAAe,cAACV,GAAD,UAAe3V,EAAMqW,eAA+B,KAE9F,OACI,eAACf,GAAD,CACIE,UAAWA,EACX7H,KAAMA,EACNmB,YAAaA,EACbyG,SAAUA,EACV/D,eAAgBA,EALpB,UAOK0E,GAAW,cAACzJ,GAAD,IACX0J,GACD,cAACN,GAAD,CACInF,eAAgB1Q,EAAM0Q,eACtBC,iBAAkBwF,EAClBL,YAAaA,EACbC,aAAcA,EACd5G,SAAUA,EACVpL,YAAaA,EACbI,eAAgBA,EAChB6R,WAAYA,EARhB,SAUI,cAACzE,GAAD,CACIpC,SAAUA,EACVJ,MAAOA,EACPyC,eAAgBA,EAChBjT,QAASA,EACTuQ,YAAaA,EACb2C,gBAAiBA,EACjBC,qBAAsBA,EACtBC,eAAgBA,MAGvByE,EACD,uBACCC,K,kCCvEN,SAASC,GAAT,GAAyC,IACxCC,EADkBC,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,SAWhC,OARID,IAEID,EADoB,kBAAbC,EACKA,EAEA,8BAAMA,KAKtB,qCACKD,EADL,IACiBE,K,+DCkCzB,SAASC,GAAUC,EAAKpJ,EAAQJ,GAC5B,IAAMyJ,EAASC,aAAaF,EAAKpJ,EAAQ,IAAIzM,KAAQ,CAAEqM,WACvD,GAAI2J,aAAUC,OAAOH,GACjB,OAAOA,EAKf,SAASI,GAAWrJ,EAAMJ,EAAQJ,GAC9B,OAAO8J,aAActJ,EAAMJ,EAAQ,CAAEJ,WAGlC,SAAS+J,GAAWlX,GACvB,MAA0B8D,mBAAS,CAACqT,YAAanX,EAAMoX,QAASC,SAAUrX,EAAMoX,UAAhF,oBAAOvR,EAAP,KAAc0E,EAAd,KAWA,IAAM+M,EAAS,aAEf,OACQ,cAAC,KAAD,CACIC,eAAgB,CACZC,YAAa,SAQjBR,WAAYA,GACZzJ,OAAQ+J,EACRZ,UAAWA,GACXe,YAAW,UAAKR,aAAcjX,EAAMoX,QAASE,IAC7CH,YAAanX,EAAMoX,QACnBtS,MAAO9E,EAAMoX,QACbM,WAAW,EACXC,WAAY,CAACnU,KAAMxD,EAAMwD,KAAMf,KAAMzC,EAAMyC,MAC3CmV,YA9BZ,SAAyBT,EAAaU,EAAWC,GAC7C,IAAMC,EAAQD,EAAeE,WAC7BzN,EAAS,CAAC4M,cAAaE,SAAUU,EAAMjT,MAAMmT,UA6BrCC,gBAAiB,kBA1B7B,cAAmE,IAArCf,EAAoC,EAApCA,YAAaE,EAAuB,EAAvBA,QAAWc,EAAY,EAAZA,UAC9ChB,IAAgBE,GAASc,EAAUhB,GAyBViB,CAAoBvS,EAAO7F,MCzFhE,I,GAAMqY,GAAU7Y,IAAOkC,IAAV,8IAED1E,GAMNsb,GAAoB9Y,IAAOkC,IAAV,kFAKjB6W,GAAc/Y,IAAOkC,IAAV,mDAIV,SAAS8W,GAAgBxY,GAC5B,IAAOmY,EAA+BnY,EAA/BmY,UAAWf,EAAoBpX,EAApBoX,QAASlV,EAAWlC,EAAXkC,QAE3B,OACI,eAACmW,GAAD,WACI,eAACC,GAAD,WACI,cAACpB,GAAD,CAAYiB,UAAWA,EAAWf,QAASA,IAC3C,cAAC5U,GAAD,CAAQR,SAAU,WAAYE,QAASA,EAASI,QAAM,OAE1D,cAACiW,GAAD,sDCzBL,SAASE,GAAT,GAAkD,IAA5BvX,EAA2B,EAA3BA,SAAUkL,EAAiB,EAAjBA,KAASpM,EAAQ,oCAC9C0Y,EAAY1Y,EAAM2Y,sBAClBC,EAAa5Y,EAAM6Y,uBACnBC,EAAW9Y,EAAM+Y,qBACjBZ,EAAYnY,EAAMgZ,sBAElBC,EAASC,aAAoBhY,GAE7BiY,EAAkB/M,EAAK/G,KAAI,SAAAiI,GAAG,OAChC,cAAC2I,GAAD,CACIG,UAAW/I,GAAWC,GACtB+I,aAAc7I,GAAUF,GACxBkI,UAAWA,aAAUlI,GACrB4I,QAASA,aAAQ5I,IACZA,MAGP8L,EAAcH,EAAO5T,IVS/B,SAAkBnE,EAAU+X,EAAQP,EAAWE,GAC3C,OAAO,SAAUnL,GACb,IAfYE,EAeNxM,EAAQkY,aAAQnY,EAASC,MAAOmY,aAAa7L,IAAUvM,EAASC,MAAQmY,aAAa7L,GACrFrM,EAAMiY,aAAQE,aAAW9L,GAAQvM,EAASE,KAAOF,EAASE,IAAMmY,aAAW9L,GAE3Ed,EAAqBuB,aAAyB9M,EAAKD,GAAS,EAE5DqY,EAAaP,EAAO,GACpBQ,EAAYR,EAAOA,EAAOS,OAAS,GACrC9R,EAAW,GAETmF,EAAUU,IAAU+L,GAAc5R,EAAW,aAAc,cAACpF,GAAD,CAAQR,SAAU,sBACVE,QAASwW,EAAWpW,QAAM,KAAM,KACnG4K,EAAWO,IAAUgM,GAAa7R,EAAW,WAAY,cAACpF,GAAD,CAAQR,SAAU,uBACVE,QAAS0W,EAAYtW,QAAM,KAAM,KAExG,OAAO,cAACwK,GAAD,CAAWH,mBAAoBA,EACpBI,QAASA,EACTG,SAAUA,EACVF,UAAWA,GAAUS,GACrBR,YAjCNU,EAiC6BF,EAjCpBF,aAAOI,EAAM,IAAK,CAACR,aAkCtBvF,SAAUA,GACL6F,IU/BIkM,CAASzY,EAAU+X,EAAQP,EAAWE,IAErE,OACI,qCACI,cAACJ,GAAD,CAAiBtW,QAAS4W,EAAUX,UAAWA,EAAWf,QAASlW,EAASC,QAC5E,cAACmV,GAAD,CAAUG,SAAU2C,IACpB,cAAC9C,GAAD,CAAUG,SAAU0C,OChBhC,IAAMS,GAAOpa,IAAOkC,IAAV,mJACNtE,EACQJ,GACS,gBAAE4K,EAAF,EAAEA,SAAF,OAAgBA,GAAsB,YACrC,qBAAE4N,UAA2BhY,EAAe,aACjD,gBAAEqc,EAAF,EAAEA,OAAF,OAAcA,GAAkB,OAC/B,qBAAEjS,SAAyB,MAAQ,QAG9C,SAASkS,GAAU9Z,GACtB,IACI+Z,EAAyD/Z,EAAzD+Z,WAAYjL,EAA6C9O,EAA7C8O,YAAakL,EAAgCha,EAAhCga,eAAmBnF,EADhD,aAC6D7U,EAD7D,+CAOA,OACI,mCACKmF,OAAOC,KAAK2U,GAAY1U,KAAI,SAAAmM,GAAc,OACvC,eAAC,IAAMyI,SAAP,WACI,cAAC3D,GAAD,CAAUG,UARGxH,EAQ2BuC,EAP7CwI,EAAe/K,GAAkB5J,KAAI,SAAA+N,GAAG,OAAI,eAACwG,GAAD,CAAMpE,UAAWA,aAAUpC,EAAI9F,KAAMuM,OAAQ,IAA7C,cAAkEzG,EAAI4G,eAAtE,MAAuD5G,EAAI9F,SAOzCkJ,SAAU,cAACoD,GAAD,UAAOpI,MAC1E,cAAC0I,GAAD,aACIjL,iBAAkB8K,EAAWvI,GAC7BA,eAAgBA,EAChBjD,qBAAsBO,GAClB+F,MANSrD,GAPL,IAACvC,OAoBjC,SAASiL,GAAwBla,GAC7B,IACIoM,EAIApM,EAJAoM,KAAM6C,EAINjP,EAJMiP,iBAAkBuC,EAIxBxR,EAJwBwR,eAAgBjD,EAIxCvO,EAJwCuO,qBAAsB4L,EAI9Dna,EAJ8Dma,eAAgBzJ,EAI9E1Q,EAJ8E0Q,eAAgB7B,EAI9F7O,EAJ8F6O,kBAC9FuL,EAGApa,EAHAoa,kCAAmCC,EAGnCra,EAHmCqa,mCAAoCC,EAGvEta,EAHuEsa,mCACvEC,EAEAva,EAFAua,oCAAqChc,EAErCyB,EAFqCzB,QAASwF,EAE9C/D,EAF8C+D,YAAaI,EAE3DnE,EAF2DmE,eAAgBjD,EAE3ElB,EAF2EkB,SAAUwQ,EAErF1R,EAFqF0R,qBACrFC,EACA3R,EADA2R,eAAgBqE,EAChBhW,EADgBgW,WAgCpB,SAASwE,EAAcxU,EAAIwL,EAAgBpF,GACvC,OAAOA,EAAK/G,KAAI,SAAAiI,GAAQ,IAAD,EACnB,EXAZ,SAAkCmN,EAAOnN,GACrC,IAAK,IAAIoN,EAAI,EAAGA,GAAC,OAAGD,QAAH,IAAGA,OAAH,EAAGA,EAAOf,QAAQgB,IAC/B,GAAI5K,aAAUxC,EAAKmN,EAAMC,GAAGvZ,SAAW2O,aAAU2K,EAAMC,GAAGvZ,MAAOsZ,EAAMC,GAAGtZ,KACtE,MAAO,CAACqZ,EAAMC,GAAIA,GAG1B,OAAO,EWNuBC,CAAyB9L,EAAkB7I,GAAKsH,IAAQ,EAAC,GAAO,GAAtF,oBAAK6I,EAAL,KAAapH,EAAb,KACA,OAAO,cAACkH,GAAD,CACHI,aAAchJ,GAAWC,GACzBkI,UAAWA,aAAUlI,GACrBK,KAAML,EAEN6I,OAAQA,EACRrH,YAAa9I,EACbwL,eAAgBA,EAChBd,eAAgBA,EAChBvB,SAAQ,UAAEF,EAAiBjJ,UAAnB,aAAE,EAAsBmJ,SAASJ,GACzCA,MAAOA,EACPwG,SAAUjH,GAAiB6L,EAAgB7M,EAAKiB,EAAsBvI,GACtE8P,YAAa9G,GAAQH,EAAmBI,EAAkBjJ,EAAI+I,EAAO,SACrEgH,aAAc/G,GAAQH,EAAmBI,EAAkBjJ,EAAI+I,EAAO,OACtExQ,QAASA,EACTkT,gBAAiBxC,EAAiBjJ,GAAIyL,gBACtC1N,YAAaA,EACbI,eAAgBA,EAChBuN,qBAAsBA,EACtBC,eAAgBA,EAChBqE,WAAYA,GAhBP1I,MAqBjB,OAzDA0H,qBAAU,WACN7P,OAAOC,KAAKyJ,GAAmB5E,SAAQ,SAAAjE,GACnC,GAAIA,KAAMiJ,EACN,IAAK,IAAIyL,EAAI,EAAGA,GAAC,UAAG7L,EAAkB7I,UAArB,aAAG,EAAuB0T,QAAQgB,IAAK,CAAC,IAAD,EAChD,EAAqB7L,EAAkB7I,GAAI0U,GAApCvZ,EAAP,EAAOA,MAAOC,EAAd,EAAcA,IAClB,GAAIqN,aAAiBtN,EAAOD,IAAauN,aAAiBrN,EAAKF,GAAW,CACtE,IAAM0Z,EAAwB3L,EAAiBjJ,GAAImJ,SAASuL,GAAGtL,aACzDyL,EAAgBzO,EAAK,GACrB0O,EAAe1O,EAAKA,EAAKsN,OAAS,IAEnC5J,aAAU3O,EAAOC,IAAQyM,GAAY1M,EAAO0Z,IAC7CT,EAAkCpU,EAAI0U,IAErC5K,aAAUgL,EAAc1Z,IAAQyM,GAAYiN,EAAc1Z,IAC3DkZ,EAAmCtU,EAAI0U,IAEtC5K,aAAU3O,EAAD,OAAQyZ,QAAR,IAAQA,OAAR,EAAQA,EAAuBzZ,QAAU0M,GAAYgN,EAAe1Z,IAC9EkZ,EAAmCrU,EAAI0U,IAEtC5K,aAAU1O,EAAD,OAAMwZ,QAAN,IAAMA,OAAN,EAAMA,EAAuBxZ,MAAQyM,GAAYzM,EAAK0Z,IAChEP,EAAoCvU,EAAI0U,UAO7D,CAACtO,EAAMyC,EAAmBI,IA+BzB,mCACK9J,OAAOC,KAAK6J,GACR8L,MAAK,SAACC,EAAEC,GAAH,OAAOhM,EAAiB+L,GAAGvJ,gBAAkBxC,EAAiBgM,GAAGxJ,mBACtEpM,KAAI,SAAAyJ,GACL,OACI,eAAC,IAAMmL,SAAP,WACI,eAACL,GAAD,CAAMhS,SAAU,aACViS,OAAQ,IADd,UAIK5K,EAAiBH,GAAaoM,iBAJnC,KAIuDjM,EAAiBH,GAAa2C,gBAJrF,MAEWxC,EAAiBH,GAAaoM,kBAIxCV,EAAc1L,EAAa0C,EAAgBpF,KAP3B0C,Q,2CCpHnCqM,G,OAAWC,OAAa,CAE1BC,QAAS,wBACTC,QAAS,CACL,eAAgB,sBAIXC,GAAgB,WAErB,OAAOJ,GAASK,IAAT,cAA2BC,MAAK,SAAAC,GAAQ,OAAIA,EAASxU,SAFvDqU,GAAgB,WAMrB,OAAOJ,GAASK,IAAT,YAAyBC,MAAK,SAAAC,GAAQ,OAAIA,EAASxU,SANrDqU,GAAgB,SASVlI,GACX,OAAO8H,GAASQ,MAAM,YAActI,EAAYrN,GAAIqN,IAV/CkI,GAAgB,SAaVlI,GACX,OAAO8H,GAASS,KAAT,WAA0BvI,IAd5BkI,GAAgB,SAiBVM,GACX,OAAOV,GAASW,OAAO,YAAcD,ICjBvCE,GAAa,aACbC,GAAsB,sBACtBC,GAAqB,qBACrBC,GAAqB,qBACrBC,GAAY,YACZC,GAA2B,2BAC3BC,GAAyB,yBACzBC,GAAsB,sBACtBC,GAAe,eACfC,GAAgB,gBAChBC,GAA0C,0CAC1CC,GAA2C,2CAC3CC,GAA2C,2CAC3CC,GAA4C,4CAC5CC,GAAY,YACZC,GAAa,aACbC,GAAc,cAGd/b,GAAe,CACjB+Y,WAAY,GACZxb,UACAye,YAAY,EACZhH,WAAY,CAAC3F,WAAW,EAAOrK,GAAI,MACnCuP,UAAU,EACVxR,aAAa,EACboW,eAAgB,CAAChZ,MAAO,KAAMC,IAAK,MACnC0N,YAAa,KACb4B,eAAe,CACXnK,MAAOxI,EAAmB,EAAIhB,EAC9B4N,OAAQ3M,EAAqB,EAAIjB,GAErC8R,kBAAmB,IAyHvB,IAAMoO,GAAgB,SAAClD,GAAD,MAAiB,CAACtX,KAAMsZ,GAAYhC,eACpDmD,GAAuB,SAACrO,GAAD,MAAwB,CAACpM,KAAMuZ,GAAqBnN,sBAC3EsO,GAAmB,SAACH,GAAD,MAAiB,CAACva,KAAMwZ,GAAoBe,eAC/DI,GAAmB,SAAC/M,EAAWrK,GAAZ,MAAoB,CAACvD,KAAMyZ,GAAoB7L,YAAWrK,OAE7E7B,GAAiB,SAACJ,GAAD,MAAkB,CAACtB,KAAMqa,GAAY/Y,gBA0BtDsZ,GAAc,SAAC7L,EAAgBzC,EAAOD,EAAaK,GAArC,MAAmD,CACnE1M,KAAMoa,GACNrL,iBACAzC,QACAD,cACAK,aAEEmO,GAAa,SAAC9L,EAAgBzC,EAAOD,GAAxB,MAAyC,CACxDrM,KAAMsa,GACNvL,iBACAzC,QACAD,gB,0BC3MSyO,GAAgB,SAAC1X,GAAD,OAAWA,EAAM2X,gBAAgBzD,YACjD0D,GAAuB,SAAC5X,GAAD,OAAWA,EAAM2X,gBAAgB3O,mBACxD6O,GAAoB,SAAC7X,GAAD,OAAWA,EAAM2X,gBAAgB9M,gBACrDiN,GAAa,SAAC9X,GAAD,OAAWA,EAAM2X,gBAAgBjf,SAC9Cqf,GAAiB,SAAC/X,GAAD,OAAWA,EAAM2X,gBAAgBzZ,aAClD8Z,GAAgB,SAAChY,GAAD,OAAWA,EAAM2X,gBAAgBR,YACjDc,GAAgB,SAACjY,GAAD,OAAWA,EAAM2X,gBAAgBxH,YACjD+H,GAAU,SAAClY,GAAD,OAAWmY,aAAkBnY,EAAMiG,MAAM5K,UAAUmE,KAAI,SAAAiI,GAAG,OAAEzM,YAAIyM,EAAKpP,OAE/E+f,GAAoBC,aAC7BX,GACAQ,IACA,SAAChE,EAAY3N,GAET,OAAOjH,OAAOC,KAAK2U,GAAYxK,QAAO,SAACC,EAAK2O,GAExC,IAF2D,IAAD,WAEjDzD,GACL,IAAIV,EAAiB7U,OAAOC,KAAK2U,EAAWoE,IAAgBzE,OACxDpM,EAAMlB,EAAKsO,GACfvV,OAAO7B,OAAOyW,EAAWoE,IAAgBlU,SAAQ,SAAAiG,GACzCA,EAAUf,SAASiP,MAAK,SAAA9Y,GAAI,OAAI+Y,aAAwB,CAChDld,MAAOmM,EACPlM,IAAKkM,GACNhI,EAAK8J,aAAc,CAACkP,WAAW,KACjCxO,aAAUxC,EAAKhI,EAAK8J,aAAahO,MAAQ8O,EAAUf,SAASiP,MAAK,SAAAG,GAAO,OAAIzO,aAAUxC,EAAKiR,EAAQnP,aAAajO,cAErH6Y,OAIRxK,EAAI2O,GAAJ,uBAAyB3O,EAAI2O,IAAkB,IAA/C,CAAmD,CAACnE,iBAAgB1M,UAd/DoN,EAAI,EAAGA,EAAItO,EAAKsN,OAAQgB,IAAM,EAA9BA,GAiBT,OAAOlL,IACR,OCtCI,OAA0B,sCCMnCY,GAAmB5Q,IAAOkC,IAAV,uFAElBtE,GAISohB,GAAY,WACrB,OAAO,cAAC,GAAD,UACH,qBAAKC,IAAKpO,GAAWqO,IAAI,kBC6CjC,I,GAAMC,GAAqB,CACvBvE,kCJmHsC,SAACtL,EAAaC,GAAd,MAAyB,CAC/DtM,KAAMga,GACN3N,cAAaC,UIpHbsL,mCJsHuC,SAACvL,EAAaC,GAAd,MAAyB,CAChEtM,KAAMia,GACN5N,cAAaC,UIvHbuL,mCJyHuC,SAACxL,EAAaC,GAAd,MAAyB,CAChEtM,KAAMka,GACN7N,cAAaC,UI1HbwL,oCJ4HwC,SAACzL,EAAaC,GAAd,MAAyB,CACjEtM,KAAMma,GACN9N,cAAaC,UI7Hb5K,kBACAya,kBJiJJ,WACI,gDAAO,WAAOtS,EAAUuS,GAAjB,wBAAA7D,EAAA,6DACH1O,EAAS6Q,IAAiB,IADvB,SAG2B5B,KAH3B,cAGGtL,EAHH,gBAIqBsL,KAJrB,QAIGjM,EAJH,QAMOrF,SAAQ,SAAAkF,GACdA,EAASC,aAAajO,MAAQ,IAAIL,KAAKqO,EAASC,aAAajO,OAC7DgO,EAASC,aAAahO,IAAM,IAAIN,KAAKqO,EAASC,aAAahO,KAC3D+N,EAASC,aAAef,GAAgBc,EAASC,iBAG/C0P,EAAa9O,GAAeC,EAAiBX,GAC7CyK,EAA8B+E,EbxEfvP,QAAO,SAACC,EAAKU,GAOlC,OANIV,EAAIU,EAAUsB,gBACdhC,EAAIU,EAAUsB,gBAAgBtB,EAAUlK,IAAxC,2BAAkDwJ,EAAIU,EAAUsB,gBAAgBtB,EAAUlK,KAAQkK,IAElGV,EAAIU,EAAUsB,gBAAkB,GAChChC,EAAIU,EAAUsB,gBAAgBtB,EAAUlK,IAAMkK,GAE3CV,IACR,IaiEOX,EAAoBQ,GAAwBC,EAAWuP,IAAW/S,MAAM5K,UAE9EoL,EAAS2Q,GAAclD,IACvBzN,EAAS4Q,GAAqBrO,IAC9BvC,EAAS6Q,IAAiB,IAlBvB,4CAAP,yDIjJAzL,qBJwKJ,SAA8BqN,EAAWvN,EAAgBzC,EAAOD,EAAauE,GACzE,gDAAO,WAAe/G,GAAf,gBAAA0O,EAAA,kEAEC1O,EAAS8Q,IAAiB,EAAD,OAAO/J,QAAP,IAAOA,OAAP,EAAOA,EAAarN,KACd,WAAd+Y,EAHlB,gCAIaxD,GAA6BlI,GAJ1C,6CAKqB,WAAd0L,EALP,kCAMiBxD,GAA6BlI,GAN9C,iDAOW,KAPX,0BAQ6B,QALtBqI,EAHP,MAQcsD,YAA+C,YAAxBtD,EAASsD,YACzC1S,EAAS+Q,GAAY7L,EAAgBzC,EAAOD,EAAa4M,EAASxU,OATvE,kDAYC+X,QAAQ5J,MAAR,MAZD,yBAcC/I,EAAS8Q,IAAiB,EAAD,OAAQ/J,QAAR,IAAQA,OAAR,EAAQA,EAAarN,KAd/C,6EAAP,uDIxKA2L,eJ2LJ,SAAwBH,EAAgBzC,EAAOD,EAAa+M,GACxD,gDAAO,WAAevP,GAAf,UAAA0O,EAAA,sEAEC1O,EAAS8Q,IAAiB,EAAMvB,IAFjC,SAGwBN,GAA6BM,GAHrD,OAI6B,OAJ7B,OAIcmD,YACT1S,EAASgR,GAAW9L,EAAgBzC,EAAOD,IALhD,gDAQCmQ,QAAQ5J,MAAR,MARD,yBAUK7D,GAAkBzC,GAASD,IAAgB+M,GAC3CvP,EAASgR,GAAW9L,EAAgBzC,EAAOD,IAE/CxC,EAAS8Q,IAAiB,EAAO,OAblC,4EAAP,wDIxLWjR,gBA7Bf,SAAyBtG,EAAOqZ,GAC5B,MAAO,CACHhe,SAAUge,EAAShe,SACnBiZ,eAAgB+E,EAAS/E,eACzBrL,YAAaoQ,EAASpQ,YACtB1C,KAAM2R,GAAQlY,GACdkU,WAAYwD,GAAc1X,GAC1B6K,eAAgBgN,GAAkB7X,GAClCgJ,kBAAmB4O,GAAqB5X,GACxCtH,QAASof,GAAW9X,GACpB9B,YAAa6Z,GAAe/X,GAC5BmX,WAAYa,GAAchY,GAC1BmQ,WAAY8H,GAAcjY,GAC1BmU,eAAgBiE,GAAkBpY,MAgBF8Y,GAAzBxS,EA9CR,SAA4BnM,GAC/B,IAAOgd,EAAiChd,EAAjCgd,WAAY4B,EAAqB5e,EAArB4e,kBAQnB,OANA5J,qBAAU,WACFgI,GACA4B,MAEL,CAAC5B,IAGA,qCACKA,GAAc,cAAC,GAAD,KACbA,GAAc,cAAClD,GAAD,eAAe9Z,UC5BrCmf,GAAe3f,IAAOkC,IAAV,yKAESzD,GAAuC,SAAA+B,GAAK,OAAIA,EAAMiB,cAAgBlD,EACtEC,GCRpB,IAAMohB,GAAc,SAACvZ,GAAD,OAAWA,EAAMiG,MAAM5K,UACrC2K,GAAiB,SAAChG,GAAD,OAAWA,EAAMiG,MAAM7K,aACxCoe,GAAc,SAACxZ,GAAD,OAAWA,EAAM2X,gBAAgBjI,UAC/C+J,GAAiB,SAACzZ,GAAD,OAAWA,EAAM2X,gBAAgB1O,aAGlDyQ,GAAoBrB,cAFQ,SAACrY,GAAD,OAAWA,EAAM2X,gBAAgBrD,kBAItE,SAAAA,GAAc,OAAI9L,GAAgB8L,MC0BtC,I,GAAMwE,GAAqB,CACvBhG,sBpCwB0B,iBAAO,CAAClW,KAAMlC,IoCvBxCsY,uBpCwB2B,iBAAO,CAACpW,KAAMjC,IoCvBzCwY,sBpCwB0B,SAACwG,GAAD,MAAc,CAAC/c,KAAM/B,EAAYE,KAAM4e,IoCvBjEzG,qBpCwByB,iBAAO,CAACtW,KAAMhC,IoCvBvCgf,aP8HiB,SAAClK,GAAD,MAAe,CAAC9S,KAAM0Z,GAAW5G,aO7HlDmK,kBP+HsB,SAACC,GAAD,MAAqB,CAACld,KAAM2Z,GAA0BuD,mBO9H5EC,gBP+HoB,SAACC,GAAD,MAAmB,CAACpd,KAAM4Z,GAAwBwD,iBO9HtEC,eP+HmB,SAAChR,GAAD,MAAkB,CAACrM,KAAM8Z,GAAczN,gBO9H1DiR,kBP+HsB,iBAAO,CAACtd,KAAM6Z,KO9HpC0D,gBP+IoB,SAACxO,EAAgBpC,GAAjB,MAAmC,CACvD3M,KAAM+Z,GACNhL,iBACApC,iBOjJAjL,mBAKS8b,GAAiB9T,aA5B9B,SAAyBtG,GACrB,MAAO,CACH3E,SAAUke,GAAYvZ,GACtB5E,YAAa4K,GAAehG,GAC5BuG,KAAM2R,GAAQlY,GAEd0P,SAAU8J,GAAYxZ,GACtBsU,eAAgBoF,GAAkB1Z,GAClCiJ,YAAawQ,GAAezZ,MAoBmB8Y,GAAzBxS,EFtCvB,SAAenM,GAElB,IAAOoM,EAGHpM,EAHGoM,KAAMlL,EAGTlB,EAHSkB,SAAU4e,EAGnB9f,EAHmB8f,eAAgBL,EAGnCzf,EAHmCyf,aAAcC,EAGjD1f,EAHiD0f,kBACjDvF,EAEAna,EAFAma,eAAgB6F,EAEhBhgB,EAFgBggB,gBAAiBD,EAEjC/f,EAFiC+f,kBAAmBxK,EAEpDvV,EAFoDuV,SAAUzG,EAE9D9O,EAF8D8O,YAAa8Q,EAE3E5f,EAF2E4f,gBAC3E3e,EACAjB,EADAiB,YAAakD,EACbnE,EADamE,eAGjB,SAAS+b,EAAaC,GAClB,IAAMC,EAASD,EAAMC,OAAOC,QAAQ,OAC9BC,EAASF,EAAOG,QAAQ5S,KAC9B,GAAI2S,EAAQ,CACR,IAAMhT,EAAM,IAAIxM,KAAKwf,GAEF,cAAfH,EAAM1d,MACNqd,EAAeM,EAAOG,QAAQC,cAC9Bf,GAAa,GACbC,EAAkBpS,IACI,YAAf6S,EAAM1d,OACT0X,EAAehZ,OACZgZ,EAAe/Y,MACd0O,aAAUqK,EAAehZ,MAAOgZ,EAAe/Y,MAChDgf,EAAOG,QAAQC,eAAiB1R,IAEnCkR,EAAgBI,EAAOG,QAAQE,gBAAiBpS,GAAgB8L,IAChEhW,GAAe,IAEnB4b,IACAN,GAAa,KAiBzB,OACI,qCACI,cAACN,GAAD,CAAcle,YAAaA,EAAc,EAAzC,SACI,cAACwX,GAAD,2BAAiBzY,GAAjB,IAAwBkB,SAAUA,EAAUkL,KAAMA,OAGtD,cAAC+S,GAAD,CAAcle,YAAaA,EAAc,EAC3Byf,YAAaR,EACbS,UAAWT,EACXU,YArBtB,SAAyBT,GACrB,GAAI5K,GAAY4K,EAAMC,OAAOG,QAAQC,eAAiB1R,EAAa,CAC/D,IACIwR,EADSH,EAAMC,OACCG,QAAQ5S,KAE5B,GAAI2S,EAAQ,CACR,IAAMhT,EAAM,IAAIxM,KAAKwf,GACrBV,EAAgBtS,MAWpB,SAKI,cAAC,GAAD,CAAoB6M,eAAgBA,EAChBrL,YAAaA,EACb5N,SAAUA,YGnExC2f,GAAcrhB,IAAOshB,KAAV,0GAEL9jB,EACIY,GCTD,I,SAAA,OAA0B,gCCInCmjB,GAAavhB,IAAOkC,IAAV,yKAUT,SAASsf,GAAchhB,GAC1B,OACI,eAAC+gB,GAAD,WACI,iCACI,iDAEJ,oCACI,sCACA,gHAGA,qBAAKtC,IAAKwC,GAAK1a,MAAO,OACtB,4BAAG,qECdnB,IAAM2a,GAAe1hB,IAAOkC,IAAV,gEAKZyf,GAAiB3hB,YAAOE,EAAPF,CAAH,2EA6CpB,SAAS4hB,KACL,IAAOC,EAAU1M,eAAV0M,OACP,OAAO,cAACzhB,EAAD,iBAAsByhB,QAAtB,IAAsBA,OAAtB,EAAsBA,EAAQC,MAGzC,SAASC,KACL,MAAmC5M,eAA5B0M,EAAP,EAAOA,OAAQjM,EAAf,EAAeA,QAASoM,EAAxB,EAAwBA,QAClB9e,EAAY2e,EAAOC,MAAQE,IAAYpM,EAAQqM,WAAarM,EAAQlK,MAC1E,OAAO,cAAC1I,GAAD,CAAQC,KAAK,SAASC,UAAWA,EAAjC,qBASIyJ,oBANf,SAAyBtG,GACrB,MAAO,CACHsF,OAAQY,GAAUlG,MAIc,CAACqF,M9B5CpB,WAAoBwW,GAApB,IAAExW,EAAF,EAAEA,MAAOuW,EAAT,EAASA,SAAT,OAAgC,SAACnV,GAClD,IACI,GAAIpB,IAAUH,IAAc0W,IAAa1W,GAGrC,MAAM,IAAI4W,MAAM,kDAFhBrV,EAASlB,GAAgBL,GAAaA,GAAYG,GAAO,IAI/D,MAAO0W,GACL3C,QAAQ5J,MAAMuM,GACdF,EAAQG,UAAU,CAAC,IAAMD,EAAEE,c8BmCpB3V,EAzDR,SAAenM,GAClB,OACI,cAACkhB,GAAD,UACI,cAAC,KAAD,CACI9d,cAAe,CAAC8H,MAAO,GAAIuW,SAAU,IACrC3O,iBAAkBC,OAAagP,MAAM,CACjC7W,MAAO6H,OACFtP,IAAI,EAAG,cACPC,IAAI,GAAI,aACRsP,SAAS,YACdyO,SAAU1O,OACLC,SAAS,2BAElB3P,SAAU,SAACC,EAAQoe,GACf1hB,EAAMkL,MAAM5H,EAAQoe,IAX5B,SAcI,eAAC,KAAD,WACI,eAACP,GAAD,WACI,cAAC5hB,EAAD,UAAQ,4CAER,cAAC,KAAD,CAAOiE,KAAK,QAAQf,KAAK,OAAOgV,YAAY,QAAQ5D,WAAW,IAC/D,cAAC,KAAD,CAAcC,UAAWlU,EAAqB4D,KAAK,UAEnD,cAAC,KAAD,CAAOA,KAAK,WAAWf,KAAK,WAAWgV,YAAY,aACnD,cAAC,KAAD,CAAc3D,UAAWlU,EAAqB4D,KAAK,aAEnD,cAAC4d,GAAD,IACA,uBACA,cAACG,GAAD,OAEJ,wCAAU,6CACV,2CAAa,uDCjDpBS,GAAgB,CACzB,CAACC,KAAM,IAAKnO,UJOT,SAAc9T,GAEjB,OAAO,cAAC6gB,GAAD,UACH,cAACZ,GAAD,OIVyBiC,OAAO,GACpC,CAACD,KAAM,OAAQnO,UAAWkN,GAAekB,OAAO,IAGvCC,GAAe,CACxB,CAACF,KAAM,SAAUnO,UAAWsO,GAAOF,OAAO,GAC1C,CAACD,KAAM,OAAQnO,UAAWkN,GAAekB,OAAO,ICkBrC/V,oBANf,SAAyBtG,GACrB,MAAO,CACHsF,OAAQtF,EAAMmG,KAAKb,UAIZgB,EAzBG,SAACnM,GACf,IAAOmL,EAAUnL,EAAVmL,OACDkX,EAAalX,EAAS6W,GAAgBG,GACtCG,EAASnX,EAAS,IAAM,SAC9B,OACQ,eAAC,KAAD,WACKkX,EAAWhd,KAAI,SAAAkd,GAAK,OACjB,cAAC,KAAD,CACIzO,UAAWyO,EAAMzO,UACjBmO,KAAMM,EAAMN,KACZC,MAAOK,EAAML,OACRK,EAAMN,SAGnB,cAAC,KAAD,CAAU3hB,GAAIgiB,UCDfE,OAZf,WACE,OACE,qBAAKlhB,UAAU,MAAf,SACI,eAAC,IAAD,WACI,cAAC4K,GAAD,IACA,cAAC,GAAD,IACA,cAAC7L,EAAD,UCAGoiB,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBlH,MAAK,YAAkD,IAA/CmH,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,mBCDVO,GAAWC,aAAgB,CAC3BpX,M7CUJ,WAAkD,IAA5BjG,EAA2B,uDAArB7E,GAAcuK,EAAO,uCAC7C,OAAQA,EAAO9I,MACX,KAAKlC,EACD,IAAMY,EAAQJ,YAAQ8E,EAAM3E,SAASC,MAAO,GACtCC,EAAML,YAAQ8E,EAAM3E,SAASE,IAAK,GACxC,OAAO,2BACAyE,GADP,IAEI3E,SAAU,CAACC,QAAOC,SAG1B,KAAKZ,EACD,IAAMW,EAAQgiB,YAAQtd,EAAM3E,SAASC,MAAO,GACtCC,EAAM+hB,YAAQtd,EAAM3E,SAASE,IAAK,GACxC,OAAO,2BACAyE,GADP,IAEI3E,SAAU,CAACC,QAAOC,SAG1B,KAAKX,EACD,IAAMW,EAAML,YAAQH,GAAMiF,EAAM5E,aAChC,OAAO,2BACA4E,GADP,IAEI3E,SAAU,CAACC,MAAOP,GAAMQ,SAGhC,KAAKV,EACD,IAAMS,EAAQoK,EAAO3K,KACfQ,EAAML,YAAQI,EAAO0E,EAAM5E,aACjC,OAAO,2BACA4E,GADP,IAEI3E,SAAU,CAACC,QAAOC,SAG1B,KAAKT,GACD,IAAMS,EAAML,YAAQ8E,EAAM3E,SAASC,MAAOoK,EAAOa,MACjD,OAAO,2BACAvG,GADP,IAEI5E,YAAasK,EAAOa,KACpBlL,SAAS,2BAAK2E,EAAM3E,UAAZ,IAAsBE,UAItC,QAAS,OAAOyE,I6CnDpB2X,gBhBwCJ,WAA+D,IAA/B3X,EAA8B,uDAAtB7E,GAAcuK,EAAQ,uCAC1D,OAAQA,EAAO9I,MACX,KAAKsZ,GACD,OAAO,2BACAlW,GADP,IAEIkU,WAAYxO,EAAOwO,aAG3B,KAAKiC,GACD,OAAO,2BACAnW,GADP,IAEIgJ,kBAAmBtD,EAAOsD,oBAGlC,KAAKoN,GACD,OAAO,2BAAIpW,GAAX,IAAkBmX,WAAYzR,EAAOyR,aAEzC,KAAKd,GACD,OAAO,2BAAIrW,GAAX,IACImQ,WAAY,CAAC3F,UAAW9E,EAAO8E,UAAWrK,GAAIuF,EAAOvF,MAG7D,KAAKmW,GACD,OAAO,2BACAtW,GADP,IAEI0P,SAAUhK,EAAOgK,WAGzB,KAAK6G,GACD,OAAO,2BACAvW,GADP,IAEIsU,eAAgB,CAAChZ,MAAOoK,EAAOoU,eAAgBve,IAAKmK,EAAOoU,kBAGnE,KAAKtD,GACD,OAAO,2BACAxW,GADP,IAEIsU,eAAe,2BAAKtU,EAAMsU,gBAAZ,IAA4B/Y,IAAKmK,EAAOsU,iBAG9D,KAAKtD,GACD,OAAO,2BACA1W,GADP,IAEIiJ,YAAavD,EAAOuD,cAG5B,KAAKwN,GACD,OAAO,2BACAzW,GADP,IAEIsU,eAAgB,KAGxB,KAAKqC,GACD,IAAMrN,EAAWtJ,EAAMkU,WAAWxO,EAAOiG,gBAAgB3L,EAAMiJ,aAAaK,SAC5E,OAAIA,EAASiP,MAAK,SAAA9Y,GAAI,OAAI+Y,aAAwB/Y,EAAK8J,aAAc7D,EAAO6D,iBAAuBvJ,EAE5F,2BACAA,GADP,IAEIkU,WAAW,2BACJlU,EAAMkU,YADH,mBACgBxO,EAAOiG,eADvB,2BAEC3L,EAAMkU,WAAWxO,EAAOiG,iBAFzB,mBAGD3L,EAAMiJ,YAHL,2BAIKjJ,EAAMkU,WAAWxO,EAAOiG,gBAAgB3L,EAAMiJ,cAJnD,IAKEK,SAAS,GAAD,oBAAMtJ,EAAMkU,WAAWxO,EAAOiG,gBAAgB3L,EAAMiJ,aAAaK,UAAjE,CAA2E,CAACC,aAAc7D,EAAO6D,sBAIrHP,kBAAkB,2BACXhJ,EAAMgJ,mBADI,mBAEZhJ,EAAMiJ,YAFM,uBAEYjJ,EAAMgJ,kBAAkBhJ,EAAMiJ,cAAgB,IAF1D,CAE8DvD,EAAO6D,mBAI9F,KAAKqN,GACD,OAAO/N,GAA2B7I,EAAO0F,EAAQ,QAASxK,KAE9D,KAAK2b,GACD,OAAOhO,GAA2B7I,EAAO0F,EAAQ,QAAS4X,KAE9D,KAAKxG,GACD,OAAOjO,GAA2B7I,EAAO0F,EAAQ,MAAO4X,KAE5D,KAAKvG,GACD,OAAOlO,GAA2B7I,EAAO0F,EAAQ,MAAOxK,KAE5D,KAAK8b,GAOD,OANAhX,EAAK,eAAOA,IACNkU,WAAN,eAAuBlU,EAAMkU,YAC7BlU,EAAMkU,WAAWxO,EAAOiG,gBAAxB,eAA8C3L,EAAMkU,WAAWxO,EAAOiG,iBACtE3L,EAAMkU,WAAWxO,EAAOiG,gBAAgBjG,EAAOuD,aAA/C,eAAgEjJ,EAAMkU,WAAWxO,EAAOiG,gBAAgBjG,EAAOuD,cAC/GjJ,EAAMkU,WAAWxO,EAAOiG,gBAAgBjG,EAAOuD,aAAaK,SAA5D,aAA2EtJ,EAAMkU,WAAWxO,EAAOiG,gBAAgBjG,EAAOuD,aAAaK,UACvItJ,EAAMkU,WAAWxO,EAAOiG,gBAAgBjG,EAAOuD,aAAaK,SAAS5D,EAAOwD,OAASxD,EAAO4D,SACrFtJ,EAEX,KAAKiX,GACD,OAAO,2BACAjX,GADP,IAEI9B,YAAawH,EAAOxH,cAG5B,KAAKgZ,GAUD,OATAlX,EAAK,eAAOA,IACNkU,WAAN,eAAuBlU,EAAMkU,YAC7BlU,EAAMkU,WAAWxO,EAAOiG,gBAAxB,eAA8C3L,EAAMkU,WAAWxO,EAAOiG,iBACtE3L,EAAMkU,WAAWxO,EAAOiG,gBAAgBjG,EAAOuD,aAA/C,eAAgEjJ,EAAMkU,WAAWxO,EAAOiG,gBAAgBjG,EAAOuD,cAC/GjJ,EAAMkU,WAAWxO,EAAOiG,gBAAgBjG,EAAOuD,aAAaK,SACxDtJ,EAAMkU,WAAWxO,EAAOiG,gBAAgBjG,EAAOuD,aAAaK,SAASgB,QAAO,SAACiT,EAAGrU,GAAJ,OAAcA,IAAUxD,EAAOwD,SAE/GlJ,EAAMgJ,kBAAN,eAA8BhJ,EAAMgJ,mBACpChJ,EAAMgJ,kBAAkBtD,EAAOuD,aAAejJ,EAAMgJ,kBAAkBtD,EAAOuD,aAAaqB,QAAO,SAACiT,EAAGrU,GAAJ,OAAaA,IAAUxD,EAAOwD,SACxHlJ,EAEX,QACI,OAAOA,IgBxJfmG,KAAMV,KAGJ+X,GAAmBC,OAAOC,sCAAwCC,KAC7DC,GAAQC,aAAYT,GAAWI,GAAiBM,aAAgBC,QAE3EN,OAAOG,MAAQA,GCPfI,IAASC,OAEP,cAAC,IAAMC,WAAP,UACI,cAAC,IAAD,CAAUN,MAAOA,GAAjB,SACI,cAAC,GAAD,QAGRO,SAASC,eAAe,SAM1BxB,O","file":"static/js/main.8d0d5e6d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"SettingsMenuItem_Modal__1Ib8k\",\"Overlay\":\"SettingsMenuItem_Overlay__2EU91\"};","// Common\nexport const borderWidth = 1\nexport const border = `${borderWidth}px solid black`\n\nexport function borderMix(borderWidth='1px',\n                          borderStyle='solid',\n                          borderColor='black') {\n    return `${borderWidth} ${borderStyle} ${borderColor}`\n}\n\nexport const displayFlexAlignCenter = 'display: flex; align-items: center'\n\n\n// Z-indexes:\nexport const todayMarkerZIndex = 500\nexport const rentElementsZIndex = 450\nexport const btnHeaderZIndex = 505\n// 1000 - modal in src/components/Modal/SettingsMenuItem.module.css\n\n// Colors\nexport const weekendColor = 'lightblue'\nexport const btnColor = '#0277bd'\nexport const menuItemColor = '#9feaab'\nexport const secondaryColor = 'lightseagreen'\nexport const MainBgColor = '#d5d5d57f'\nexport const selectionColor = '#e2c50a'\nexport const rentElementColor = '#00c0e7'\n\n\n// TableWrapper = styled.div on src/components/Table/Table.jsx\nexport const gridColumnsWidth = 50\nexport const gridAutoRowsHeight = 40\nexport const gridTemplateFirstColumnWidth = '250px'\n\n\n// **************************************************************** //\nexport const time = {hours:12, minutes:0, seconds:0, milliseconds:0}\n\n// it should be a flat structure\nexport const tariffs = {\n    standard_2: 1000,\n    standard_3: 1500,\n    standard_4: 2000,\n    standard_5: 2500,\n    comfortable_2: 2000,\n    comfortable_3: 2500,\n    comfortable_4: 3000,\n    comfortable_5: 3500,\n    lux_2: 5000,\n    lux_3: 6000,\n    lux_4: 7000,\n    lux_5: 8000,\n}\nexport const maxAdditionalPersons = 6\nexport const priceAdditionalPerson = 500\nexport const currentCurrency = 'руб'\n","import styled from 'styled-components'\nimport {Link} from 'react-router-dom'\n\nexport const Legend = styled.legend`\n  padding: .2em;\n  border: 1px solid green;\n  border-left: #43b25a 5px solid;\n  border-right: #43b25a 5px solid;\n`\n\nexport const Fieldset = styled.fieldset`\n  margin-bottom: 10px;\n`\n\nexport const ErrorMessageElement = styled.span`\n  color: red;\n  text-align: center;\n  font-weight: bold;\n  padding: 5px;\n`\n\nexport const StyledLink  = styled(Link)`\n  text-decoration: none;\n  color: ${props => props.color || 'black'};\n  font-size: ${props => props.size || 'inherit'};\n  font-weight: bold;\n  &:active {\n    color: white;\n  }\n`","import React from \"react\";\nimport styled from 'styled-components'\nimport {border, displayFlexAlignCenter, secondaryColor} from '../../settings/settings'\nimport {StyledLink} from '../simpleElements/StyledElements'\n\nconst FooterWrapper = styled.footer`\n  grid-area: footer;\n  border: ${border};\n  background: ${secondaryColor};\n  ${displayFlexAlignCenter};\n  justify-content: center;\n`\n\nexport function Footer(props) {\n    return <FooterWrapper>\n        <StyledLink to=\"/doc\" size={'24px'}>Documentation</StyledLink>\n    </FooterWrapper>\n}","import {addDays, set, subDays} from 'date-fns'\nimport {time} from '../settings/settings'\n\nconst SHIFT_LEFT = 'SHIFT_LEFT'\nconst SHIFT_RIGHT = 'SHIFT_RIGHT'\nconst SHIFT_NOW = 'SHIFT_NOW'\nconst SHIFT_FROM = 'SHIFT_FROM'\nconst DAYS_IN_TABLE = 'DAYS_IN_TABLE'\n\nconst from = set(new Date(),time)\nconst to = addDays(from, 29)\n\nconst initialState ={\n    daysInTable: 29,\n    interval: {start: from, end: to}\n}\n\nfunction tableReducer(state=initialState, action){\n    switch (action.type) {\n        case SHIFT_LEFT: {\n            const start = addDays(state.interval.start, 1)\n            const end = addDays(state.interval.end, 1)\n            return {\n                ...state,\n                interval: {start, end},\n            }\n        }\n        case SHIFT_RIGHT: {\n            const start = subDays(state.interval.start, 1)\n            const end = subDays(state.interval.end, 1)\n            return {\n                ...state,\n                interval: {start, end},\n            }\n        }\n        case SHIFT_NOW: {\n            const end = addDays(from, state.daysInTable)\n            return {\n                ...state,\n                interval: {start: from, end}\n            }\n        }\n        case SHIFT_FROM: {\n            const start = action.from\n            const end = addDays(start, state.daysInTable)\n            return {\n                ...state,\n                interval: {start, end}\n            }\n        }\n        case DAYS_IN_TABLE: {\n            const end = addDays(state.interval.start, action.days)\n            return {\n                ...state,\n                daysInTable: action.days,\n                interval: {...state.interval, end}\n            }\n        }\n    \n        default: return state\n    }\n}\n\nconst shiftDateIntervalLeft = () => ({type: SHIFT_LEFT})\nconst shiftDateIntervalRight = () => ({type: SHIFT_RIGHT})\nconst shiftDateIntervalFrom = (FromDay) => ({type: SHIFT_FROM, from: FromDay})\nconst shiftDateIntervalNow = () => ({type: SHIFT_NOW})\nconst changeDaysInTable = (days) => ({type: DAYS_IN_TABLE, days})\n\nexport {tableReducer, shiftDateIntervalLeft, shiftDateIntervalRight, shiftDateIntervalFrom, shiftDateIntervalNow, changeDaysInTable}\n\n\n\n\n","import styled from 'styled-components'\nimport React from 'react'\n\nexport const CommonIcon = ({ className, children }) => (\n    <span className={'material-icons ' + className}>\n    {children}\n  </span>\n)\n\nexport const Icon = styled(CommonIcon)`\n  font-size: ${({size}) => size}px;\n`","import React from 'react'\nimport {Icon} from '../simpleElements/Icon'\nimport styled from 'styled-components'\nimport {borderMix, displayFlexAlignCenter, menuItemColor} from '../../settings/settings'\n\nconst MenuItemWrapper = styled.div`\n  ${displayFlexAlignCenter};\n  justify-content: flex-start;\n  border: ${borderMix( undefined,undefined,'#7693d5')} ;\n  border-radius: 2px;\n  background-color: ${menuItemColor};\n  box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 2px 5px rgba(0,0,0,0.22);\n  padding: 8px 0;\n  margin: 0 2px;\n\n  :hover {\n    background-color: #87ee9d;\n    cursor: pointer;\n  }\n\n  :active {\n    box-shadow: inset 2px 2px 5px rgba(154, 147, 140, 0.5), 1px 1px 5px rgba(255, 255, 255, 1);\n  }\n`\n\nconst MenuItemIcon = styled(Icon)`\nmargin: 0 5px;\n`\n\nconst MenuItemTitle = styled.span`\nmargin-right: 5px;\n`\n\nexport function MenuItem(props) {\n    const {openModal, iconName, menuItemTitle, } = props\n\n    return (\n        <MenuItemWrapper onClick={openModal}>\n            <MenuItemIcon>{iconName}</MenuItemIcon>\n            {menuItemTitle && <MenuItemTitle>{menuItemTitle}</MenuItemTitle>}\n        </MenuItemWrapper>\n    )\n}","import React from \"react\"\nimport styled from \"styled-components\";\nimport {btnColor, btnHeaderZIndex, gridAutoRowsHeight} from '../../settings/settings'\nimport {CommonIcon} from './Icon'\n\n\nconst Btn = styled.button`\n  font-size: ${({size}) => size || '1.2em'};\n  background-color: ${({background}) => background || btnColor};\n  border-radius: 3px;\n  min-height: 30px;\n  min-width: ${gridAutoRowsHeight};\n  display: ${({isFlex}) => isFlex && 'flex'};\n  align-items: ${({isFlex}) => isFlex && 'center'};\n  z-index: ${({isFlex}) => isFlex && btnHeaderZIndex};\n  color: white;\n  opacity: ${props => props.disabled ? 0.3 : 1};\n`\n\nexport function Button(props) {\n    const { onClick, size, isFlex, iconName, children, type, background, isDisable} = props\n\n    return (\n        <Btn onClick={onClick} size={size} isFlex={isFlex} type={type} background={background} disabled={isDisable}>\n            {iconName && <CommonIcon>{iconName}</CommonIcon>}\n            {children && <span>{children}</span>}\n        </Btn>\n    )\n}","import {createContext} from 'react'\n\nexport const ModalContext = createContext(null)\n","import React, {useContext} from 'react'\nimport styled from 'styled-components'\nimport {Button} from '../simpleElements/Button'\nimport {ModalContext} from '../context'\n\n\nconst ButtonsWrapper = styled.div`\n  position: absolute;\n  bottom: 0;\n  right: 0;\n  margin: 5px;\n`\n\nexport function SaveCloseButtons(props) {\n    const {notSave} = props\n    const closeModal = useContext(ModalContext)\n\n    return (\n            <ButtonsWrapper>\n                {!notSave && <Button type=\"submit\" size={'0.8em'}>Save</Button>}\n                <Button type=\"button\" onClick={closeModal} size={'0.8em'}>Close</Button>\n            </ButtonsWrapper>\n    )\n}","import {Field, Form, Formik} from 'formik'\nimport React from 'react'\nimport {Button} from '../simpleElements/Button'\nimport {SaveCloseButtons} from './SaveCloseButtons'\nimport {Fieldset, Legend} from '../simpleElements/StyledElements'\n\nexport const TableSettingsForm = (props) => {\n    const{daysInTable, changeDaysInTable, } = props\n\n    const min = 29\n    const max = 366\n\n    return (\n        <Formik\n            initialValues={{daysInTable: daysInTable}}\n            onSubmit={(values) => {\n                changeDaysInTable(values.daysInTable)\n            }}\n        >\n            {({setFieldValue}) =>\n            <Form>\n                <Fieldset>\n                    <Legend><strong>Days in grid</strong></Legend>\n                    <Field name=\"daysInTable\" type=\"number\" min={min} max={max} title={`мин: ${min}; макс: ${max}`}/>\n                    <Button type=\"button\"\n                            size={'0.8em'}\n                            onClick={() => setFieldValue('daysInTable', min)}\n                    >\n                        Reset\n                    </Button>\n                </Fieldset>\n                <SaveCloseButtons />\n            </Form>}\n        </ Formik>\n    )\n}","import Modal from 'react-modal'\nimport React, {useState} from 'react'\nimport style from './SettingsMenuItem.module.css'\nimport {ModalContext} from '../context'\n\n\nModal.setAppElement('#root')\n\nexport function withModal(WrappedComponent) {\n    return (props) => {\n        let [showModal, setShowModal] = useState(props.isOpenModal || false)\n        const openModal = () => setShowModal(true)\n        const closeModal = () => {\n            setShowModal(false)\n            if (props.hasOwnProperty('setIsOpenModal')) props.setIsOpenModal(false)\n        }\n\n        return (\n            <>\n                <WrappedComponent openModal={openModal} {...props} />\n                <Modal isOpen={showModal}\n                       contentLabel={'settings'}\n                       className={style.Modal}\n                       overlayClassName={style.Overlay}\n                       onRequestClose={closeModal}\n                       shouldCloseOnOverlayClick={false}\n                       shouldCloseOnEsc={true}\n                >\n                    <ModalContext.Provider value={closeModal}>\n                        {props.children}\n                    </ModalContext.Provider>\n                </Modal>\n            </>\n        )\n    }\n}","import {Field, Form, Formik} from 'formik'\nimport React, {Fragment} from 'react'\nimport {SaveCloseButtons} from './SaveCloseButtons'\nimport * as settings from '../../settings/settings'\nimport styled from 'styled-components'\n\n\nconst SettingsExample = styled.div`\n  display: inline-block;\n  width: 2em;\n  height: 2em;\n  background-color: ${props => props.background};\n  border: ${settings.border};\n  vertical-align: middle;\n`\n\nexport const CommonSettingsForm = () => {\n    return (\n        <Formik\n            initialValues={settings}\n        >\n            <Form>\n                <h3>\n                    One fine day, the settings can still be changed through this form,\n                    but now they can be found in: 'src/settings/settings.js'\n                </h3>\n                {Object.keys(settings).map(item => {\n                    return (\n                        typeof settings[item] !== 'function' && <Fragment key={item}>\n                            <label htmlFor={item}>{item}</label>\n                            <Field name={item} type=\"text\" readOnly/>\n                            {item.includes('Color') && <SettingsExample  background={settings[item]}/> }\n                            <br/>\n                        </Fragment>\n                    )\n                })}\n\n                <SaveCloseButtons notSave/>\n            </Form>\n        </ Formik>\n    )\n}","import React, {Component, Fragment} from 'react'\nimport Chart from \"react-apexcharts\";\nimport {SaveCloseButtons} from '../Forms/SaveCloseButtons'\n\n\nexport class Report extends Component {\n    constructor(props) {\n        super(props);\n\n        this.updateCharts = this.updateCharts.bind(this);\n\n        this.state = {\n            optionsMixedChart: {\n                chart: {\n                    id: \"basic-bar\",\n                    toolbar: {\n                        show: false\n                    }\n                },\n                plotOptions: {\n                    bar: {\n                        columnWidth: \"50%\"\n                    }\n                },\n                stroke: {\n                    width: [4, 0, 0]\n                },\n                xaxis: {\n                    categories: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\", \"Sun\"]\n                },\n                markers: {\n                    size: 6,\n                    strokeWidth: 3,\n                    fillOpacity: 0,\n                    strokeOpacity: 0,\n                    hover: {\n                        size: 8\n                    }\n                },\n                yaxis: {\n                    tickAmount: 5,\n                    min: 0,\n                    max: 100\n                }\n            },\n            seriesMixedChart: [\n                {\n                    name: \"series-1\",\n                    type: \"line\",\n                    data: [30, 40, 25, 50, 49, 21, 70, 51]\n                },\n                {\n                    name: \"series-2\",\n                    type: \"column\",\n                    data: [23, 12, 54, 61, 32, 56, 81, 19]\n                },\n                {\n                    name: \"series-3\",\n                    type: \"column\",\n                    data: [62, 12, 45, 55, 76, 41, 23, 43]\n                }\n            ],\n            optionsRadial: {\n                plotOptions: {\n                    radialBar: {\n                        startAngle: -135,\n                        endAngle: 225,\n                        hollow: {\n                            margin: 0,\n                            size: \"70%\",\n                            background: \"#fff\",\n                            image: undefined,\n                            imageOffsetX: 0,\n                            imageOffsetY: 0,\n                            position: \"front\",\n                            dropShadow: {\n                                enabled: true,\n                                top: 3,\n                                left: 0,\n                                blur: 4,\n                                opacity: 0.24\n                            }\n                        },\n                        track: {\n                            background: \"#fff\",\n                            strokeWidth: \"67%\",\n                            margin: 0, // margin is in pixels\n                            dropShadow: {\n                                enabled: true,\n                                top: -3,\n                                left: 0,\n                                blur: 4,\n                                opacity: 0.35\n                            }\n                        },\n\n                        dataLabels: {\n                            showOn: \"always\",\n                            name: {\n                                offsetY: -20,\n                                show: true,\n                                color: \"#888\",\n                                fontSize: \"13px\"\n                            },\n                            value: {\n                                formatter: function (val) {\n                                    return val;\n                                },\n                                color: \"#111\",\n                                fontSize: \"30px\",\n                                show: true\n                            }\n                        }\n                    }\n                },\n                fill: {\n                    type: \"gradient\",\n                    gradient: {\n                        shade: \"dark\",\n                        type: \"horizontal\",\n                        shadeIntensity: 0.5,\n                        gradientToColors: [\"#ABE5A1\"],\n                        inverseColors: true,\n                        opacityFrom: 1,\n                        opacityTo: 1,\n                        stops: [0, 100]\n                    }\n                },\n                stroke: {\n                    lineCap: \"round\"\n                },\n                labels: [\"Percent\"]\n            },\n            seriesRadial: [76],\n            optionsBar: {\n                chart: {\n                    stacked: true,\n                    stackType: \"100%\",\n                    toolbar: {\n                        show: false\n                    }\n                },\n                plotOptions: {\n                    bar: {\n                        horizontal: true\n                    }\n                },\n                dataLabels: {\n                    dropShadow: {\n                        enabled: true\n                    }\n                },\n                stroke: {\n                    width: 0\n                },\n                xaxis: {\n                    categories: [\"Fav Color\"],\n                    labels: {\n                        show: false\n                    },\n                    axisBorder: {\n                        show: false\n                    },\n                    axisTicks: {\n                        show: false\n                    }\n                },\n                fill: {\n                    opacity: 1,\n                    type: \"gradient\",\n                    gradient: {\n                        shade: \"dark\",\n                        type: \"vertical\",\n                        shadeIntensity: 0.35,\n                        gradientToColors: undefined,\n                        inverseColors: false,\n                        opacityFrom: 0.85,\n                        opacityTo: 0.85,\n                        stops: [90, 0, 100]\n                    }\n                },\n\n                legend: {\n                    position: \"bottom\",\n                    horizontalAlign: \"right\"\n                }\n            },\n            seriesBar: [\n                {\n                    name: \"blue\",\n                    data: [32]\n                },\n                {\n                    name: \"green\",\n                    data: [41]\n                },\n                {\n                    name: \"yellow\",\n                    data: [12]\n                },\n                {\n                    name: \"red\",\n                    data: [65]\n                }\n            ]\n        };\n    }\n\n    updateCharts() {\n        const max = 90;\n        const min = 30;\n        const newMixedSeries = [];\n        const newBarSeries = [];\n\n        this.state.seriesMixedChart.forEach((s) => {\n            const data = s.data.map(() => {\n                return Math.floor(Math.random() * (max - min + 1)) + min;\n            });\n            newMixedSeries.push({ data: data, type: s.type });\n        });\n\n        this.state.seriesBar.forEach((s) => {\n            const data = s.data.map(() => {\n                return Math.floor(Math.random() * (180 - min + 1)) + min;\n            });\n            newBarSeries.push({ data, name: s.name });\n        });\n\n        this.setState({\n            seriesMixedChart: newMixedSeries,\n            seriesBar: newBarSeries,\n            seriesRadial: [Math.floor(Math.random() * (90 - 50 + 1)) + 50]\n        });\n    }\n\n    render() {\n        return (\n            <>\n                <h1 style={{color: '#d90af1', textAlign: 'center'}}>Your big and powerful reports on everything!</h1>\n                <div className=\"app\">\n                    <div className=\"row\">\n                        <div className=\"col mixed-chart\">\n                            <Chart\n                                options={this.state.optionsMixedChart}\n                                series={this.state.seriesMixedChart}\n                                type=\"line\"\n                                width=\"500\"\n                            />\n                        </div>\n\n                        <div className=\"col radial-chart\">\n                            <Chart\n                                options={this.state.optionsRadial}\n                                series={this.state.seriesRadial}\n                                type=\"radialBar\"\n                                width=\"280\"\n                            />\n                        </div>\n                    </div>\n\n                    <div className=\"row\">\n                        <div className=\"col percentage-chart\">\n                            <Chart\n                                options={this.state.optionsBar}\n                                height={140}\n                                series={this.state.seriesBar}\n                                type=\"bar\"\n                                width={500}\n                            />\n                        </div>\n\n                        <p className=\"col\">\n                            <button onClick={this.updateCharts}>Update!</button>\n                        </p>\n                    </div>\n                </div>\n\n                <SaveCloseButtons closeHandler={this.props.closeModal} notSave/>\n            </>\n        )\n    }\n}","\nconst SET_USER_DATA = 'hotelms_clone/auth/SET_USER_DATA'\n\nlet user = {\n    userId: 1,\n    email: 'example@mail.com',\n    login: 'user',\n    password: 'user',\n}\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n}\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.payload\n            }\n        default:\n            return state;\n    }\n}\n\n\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\n    type: SET_USER_DATA, payload:\n        {userId, email, login, isAuth}\n})\n\nexport const login = ({login, password}, actions) => (dispatch) => {\n    try {\n        if (login === user.login && password === user.password) {\n            dispatch(setAuthUserData(user.userId, user.email, login, true))\n        } else {\n            throw new Error('Unable to login with the provided credentials.')\n        }\n    } catch (e) {\n        console.error(e)\n        actions.setErrors({'api':e.message})\n    }\n\n\n}\n\n\nexport const logout = () => (dispatch) => {\n    dispatch(setAuthUserData(null, null, null, false))\n}\n\nexport default authReducer;","import React from 'react'\nimport {MenuItem} from './MenuItem'\nimport {TableSettingsForm} from '../Forms/TableSettingsForm'\nimport {withModal} from '../Modal/withModal'\nimport styled from 'styled-components'\nimport {border, displayFlexAlignCenter, secondaryColor} from '../../settings/settings'\nimport {Icon} from '../simpleElements/Icon'\nimport {CommonSettingsForm} from '../Forms/CommonSettingsForm'\nimport {Report} from './Reports'\nimport {StyledLink} from '../simpleElements/StyledElements'\nimport {logout} from '../../store/authReducer'\n\n\nconst HeaderWrapper = styled.header`\n  grid-area: header;\n  border: ${border};\n  background: ${secondaryColor};\n  ${displayFlexAlignCenter};\n  justify-content: space-between;\n`\n\nconst LeftSideMenu = styled.nav`\n  ${displayFlexAlignCenter};\n  justify-content: flex-start;\n`\n\nconst TableSettingsMenuItem = withModal(MenuItem)\n\nexport function Header(props) {\n    const {daysInTable, changeDaysInTable, isAuth, logout, user} = props\n\n    return (\n        <HeaderWrapper>\n            <LeftSideMenu>\n                <StyledLink to=\"/\"><Icon size={36}>hotel</Icon></StyledLink>\n\n                <TableSettingsMenuItem iconName={'grid_on'} menuItemTitle={'Grid'}>\n                    <TableSettingsForm daysInTable={daysInTable} changeDaysInTable={changeDaysInTable}/>\n                </TableSettingsMenuItem>\n\n                <TableSettingsMenuItem iconName={'settings'} menuItemTitle={'Settings'}>\n                    <CommonSettingsForm />\n                </TableSettingsMenuItem>\n\n                <TableSettingsMenuItem iconName={'format_list_bulleted'} menuItemTitle={'Reports'}>\n                    <Report />\n                </TableSettingsMenuItem>\n            </LeftSideMenu>\n\n            <div>\n                {!isAuth\n                    ? <StyledLink to=\"/login\"><MenuItem iconName={'login'}/></StyledLink>\n                    : <div onClick={logout}><MenuItem iconName={'logout'} menuItemTitle={user}/></div>\n                }\n            </div>\n        </HeaderWrapper>\n    )\n}","export const getDaysInTable = (state) => state.table.daysInTable\nexport const getIsAuth = (state) => state.auth.isAuth\nexport const getUser = (state) => state.auth.login\n","import {connect} from 'react-redux'\nimport {changeDaysInTable} from '../../store/tableReducer'\nimport {Header} from './Header'\nimport {getDaysInTable, getIsAuth, getUser} from '../../store/headerContainerSelector'\nimport {logout} from '../../store/authReducer'\n\nfunction mapStateToProps(state) {\n    return {\n        daysInTable: getDaysInTable(state),\n        isAuth: getIsAuth(state),\n        user: getUser(state)\n    }\n}\n\nexport const HeaderContainer = connect(mapStateToProps,    {changeDaysInTable, logout})(Header)","import React from 'react'\nimport styled from 'styled-components'\nimport {todayMarkerZIndex} from '../../settings/settings'\n\n\nconst Circle = styled.div`\n  position: absolute;\n  width: 16px;\n  height: 16px;\n  border-radius: 50%;\n  background-color: crimson;\n  top: -30%;\n  right: 5%;\n  z-index: ${todayMarkerZIndex};\n`\n\nconst VerticalLine = styled.div`\n  position: absolute;\n  height: 75vh;\n  border-left: 2px solid crimson;\n  top: 0;\n  right: 19%;\n  z-index: ${todayMarkerZIndex};\n`\n\nexport function TodayMarker() {\n    return (\n    <>\n        <Circle/>\n        <VerticalLine/>\n    </>)\n}","import styled from 'styled-components'\nimport React from 'react'\nimport {border, displayFlexAlignCenter} from '../../../settings/settings'\n\n\nconst Months = styled.div`\n  grid-column: span ${props => props.daysInCurrentMonth};\n  border: ${border};\n  ${displayFlexAlignCenter};\n  justify-content: ${props => props.daysInCurrentMonth > 3 ? 'space-between' : props.position};\n  padding: 0 5px;\n`\n\nconst MonthCellTitle = styled.strong`\n  margin: auto 45px;\n`\n\nexport function MonthCell(props) {\n    const {daysInCurrentMonth, position, leftBtn, monthName, yearOfDate, rightBtn} = props\n\n    return (\n        <Months daysInCurrentMonth = {daysInCurrentMonth} position={position}>\n            {leftBtn} {daysInCurrentMonth > 3 && <MonthCellTitle>{monthName} {yearOfDate}</MonthCellTitle>} {rightBtn}\n        </Months>\n    )\n}","import {\n    differenceInCalendarDays,\n    endOfMonth,\n    format,\n    isAfter,\n    isSameDay,\n    isWithinInterval,\n    set,\n    startOfDay,\n    startOfMonth,\n} from 'date-fns'\nimport {ru, enGB} from 'date-fns/locale'\nimport {Button} from '../components/simpleElements/Button'\nimport React from 'react'\nimport {MonthCell} from '../components/Table/Table-cell/MonthCell'\nimport {borderWidth} from '../settings/settings'\n\nconst locale = enGB\nconst dayOfMonth = (day) => format(day, 'dd', {locale})\nconst dayOfWeek = (day) => format(day, 'eeeeee', {locale})\nconst monthName = (month) => format(month, 'LLLL', {locale})\nconst yearOfDate = (date) => format(date, 'y', {locale})\nconst dateToString = (date) => format(date, 'dd-MM-y', {locale})\nconst getTime = (date) => format(date, 'HH:mm', {locale})\nconst isDayBefore = (day1, day2) => startOfDay(day1) < startOfDay(day2)\nconst intervalLength = (interval) => differenceInCalendarDays(interval.end, interval.start)\nconst setTimeToDate = (date, time) => {\n    const [hours, minutes] = time.split(':')\n    return set(date, {hours, minutes})\n}\nconst isIntervalIncludedInAnother = (outerInterval, innerInterval) => {\n    return outerInterval.start < innerInterval.start && outerInterval.end > innerInterval.end\n}\n\nfunction toMonths(interval, months, shiftLeft, shiftRight) {\n    return function (month) {\n        const start = isAfter(interval.start, startOfMonth(month)) ? interval.start : startOfMonth(month)\n        const end = isAfter(endOfMonth(month), interval.end) ? interval.end : endOfMonth(month)\n\n        const daysInCurrentMonth = differenceInCalendarDays(end, start) + 1\n\n        const firstMonth = months[0]\n        const lastMonth = months[months.length - 1]\n        let position = ''\n\n        const leftBtn = month === firstMonth ? (position = 'flex-start', <Button iconName={'keyboard_arrow_left'}\n                                                                                 onClick={shiftLeft} isFlex/>) : null\n        const rightBtn = month === lastMonth ? (position = 'flex-end', <Button iconName={'keyboard_arrow_right'}\n                                                                               onClick={shiftRight} isFlex/>) : null\n\n        return <MonthCell daysInCurrentMonth={daysInCurrentMonth}\n                          leftBtn={leftBtn}\n                          rightBtn={rightBtn}\n                          monthName={monthName(month)}\n                          yearOfDate={yearOfDate(month)}\n                          position={position}\n                          key={month}\n        />\n    }\n}\n\nfunction adjustsInterval(interval) {\n    return isDayBefore(interval.end, interval.start)\n        ? {start: interval.end, end: interval.start}\n        : interval\n}\n\nfunction isSelectInterval(interval, day, apartmentIdForSelect, currentId) {\n    return interval.start\n        ? isWithinInterval(day, interval) && apartmentIdForSelect === currentId\n        : false\n}\n\nfunction shifterViewedRentIntervals(state, action, rangeBorder, shiftFunction) {\n    let day = state.viewRentIntervals[action.apartmentId][action.index][rangeBorder]\n    day = shiftFunction(day, 1)\n\n    state = {...state}\n    state.viewRentIntervals = {...state.viewRentIntervals}\n    state.viewRentIntervals[action.apartmentId] = [...state.viewRentIntervals[action.apartmentId]]\n    state.viewRentIntervals[action.apartmentId][action.index] = {\n        ...state.viewRentIntervals[action.apartmentId][action.index],\n        [rangeBorder]: day\n    }\n    return state\n}\n\nfunction isDayStartRentalInterval(array, day) {\n    for (let i = 0; i < array?.length; i++) {\n        if (isSameDay(day, array[i].start) && !isSameDay(array[i].start, array[i].end)) {\n            return [array[i], i]\n        }\n    }\n    return false\n}\n\nfunction isArrow(viewRentIntervals, apartmentsByType, id, index, rangeInterval) {\n    return rangeInterval === 'start'\n        ? viewRentIntervals[id] && isDayBefore(apartmentsByType[id]?.rentInfo[index]?.rentInterval.start, viewRentIntervals[id][index]?.start)\n        : viewRentIntervals[id] && isDayBefore(viewRentIntervals[id][index]?.end, apartmentsByType[id]?.rentInfo[index]?.rentInterval.end)\n}\n\n// = width*duration + 2*duration*borderWidth\nfunction widthRentElement(cellDimensions, viewRentInterval) {\n    return cellDimensions.width * intervalLength(viewRentInterval) +\n        intervalLength(viewRentInterval) * 2 * borderWidth + 'px'\n}\n\nfunction checkAndReturnNewViewRentInterval(rentInfoInterval, interval) {\n    let visibleInterval = null\n    if (isSameDay(rentInfoInterval.start, interval.end)) {\n        return {start: rentInfoInterval.start, end: rentInfoInterval.start}\n    }\n    if (isSameDay(rentInfoInterval.end, interval.start)) {\n        return {start: rentInfoInterval.end, end: rentInfoInterval.end}\n    }\n    if (\n        isWithinInterval(rentInfoInterval.end, interval)\n        && (isSameDay(rentInfoInterval.start, interval.start)\n            || isDayBefore(rentInfoInterval.start, interval.start))\n    ) {\n        visibleInterval = {...rentInfoInterval, start: interval.start}\n    }\n    if (\n        isWithinInterval(rentInfoInterval.start, interval)\n        && (isSameDay(rentInfoInterval.end, interval.end)\n            || isDayBefore(interval.end, rentInfoInterval.end))\n    ) {\n        visibleInterval = {...rentInfoInterval, end: interval.end}\n    }\n    if (isIntervalIncludedInAnother(rentInfoInterval, interval)) {\n        visibleInterval = {...interval}\n    }\n    return visibleInterval || rentInfoInterval\n}\n\nfunction CreateViewRentIntervals(rentInfos, interval) {\n    return rentInfos.reduce((acc, rentInfo) => {\n        const newViewRentInterval = checkAndReturnNewViewRentInterval(rentInfo.rentInterval, interval)\n        acc[rentInfo.apartmentId] = [...acc[rentInfo.apartmentId] || [], newViewRentInterval ]\n        return acc\n    }, {})\n}\n\nfunction collectObjects(apartmentsArray, rentInfos) {\n    return apartmentsArray.map(apartment => {\n        apartment.rentInfo = rentInfos.filter(rentInfo => rentInfo.apartmentId === apartment.id)\n        return apartment\n    })\n}\n\nfunction createApartments(collectionObjects) {\n    return collectionObjects.reduce((acc, apartment) => {\n        if (acc[apartment.apartmentsType]) {\n            acc[apartment.apartmentsType][apartment.id] = {...acc[apartment.apartmentsType][apartment.id], ...apartment}\n        } else {\n            acc[apartment.apartmentsType] = {}\n            acc[apartment.apartmentsType][apartment.id] = apartment\n        }\n        return acc\n    }, {})\n}\n\nexport {\n    dayOfMonth, dayOfWeek, monthName, yearOfDate, dateToString, toMonths, adjustsInterval, isSelectInterval,\n    shifterViewedRentIntervals, isDayStartRentalInterval, isArrow, widthRentElement, getTime, setTimeToDate,\n    isDayBefore, intervalLength, CreateViewRentIntervals, collectObjects, createApartments,\n    checkAndReturnNewViewRentInterval,\n}","export default __webpack_public_path__ + \"static/media/rent_preloader.ec5860cc.svg\";","import React from 'react'\nimport preloader from '../../assets/images/rent_preloader.svg'\nimport styled from 'styled-components'\n\n\nconst PreloaderWrapper = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  background: url(${preloader}) repeat-x;\n  height: 100%;\n  width: 100%;\n  z-index: 460;\n`\n\nexport const RentPreloader = () => <PreloaderWrapper />\n","import React from 'react'\nimport styled from 'styled-components'\nimport {\n    borderMix,\n    currentCurrency,\n    rentElementColor,\n    rentElementsZIndex\n} from '../../settings/settings'\nimport {dateToString, getTime, intervalLength, widthRentElement} from '../../Utils/utils'\nimport {Icon} from '../simpleElements/Icon'\nimport ReactTooltip from 'react-tooltip'\nimport {RentPreloader} from '../simpleElements/RentPreloader'\n\n\nconst RentWrapper = styled.div.attrs(props => ({'data-tip': '', 'data-for': props.forTooltip}))`\n  position: absolute;\n  top: 1px;\n  left: 50%;\n  border: ${borderMix(undefined, undefined, '#0237bd')};\n  background-color: ${rentElementColor};\n  width: ${props => widthRentElement(props.cellDimensions, props.viewRentInterval)};\n  min-width: ${({cellDimensions}) => cellDimensions.width / 2 - 1}px;\n  height: ${({cellDimensions}) => cellDimensions.height - 2}px;\n  z-index: ${rentElementsZIndex};\n\n  :hover {\n    cursor: pointer;\n  }\n`\n\nconst Arrow = styled(Icon)`\n  position: absolute;\n  top: 5px;\n  ${props => props.position}: -15px;\n  color: red;\n`\n\nconst FullName = styled.div`\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n`\n\nconst Tag = styled.div`\n  position: absolute;\n  top: ${props => props.top ?? ''};\n  bottom: ${props => props.bottom ?? ''};\n  left: ${props => props.left ?? ''};\n  right: ${props => props.right ?? ''};\n  background-color: ${props => props.background || 'chocolate'};\n  font-size: 0.7em;\n`\n\nconst Ul = styled.ul`\n  text-align: left;\n  list-style-type: none;\n`\n\nconst TooltipSpan = styled.span`\n  color: #78e556;\n`\n\nexport function Rent(props) {\n    const {openModal, cellDimensions, viewRentInterval, isLeftArrow, isRightArrow, rentInfo, isUpdating} = props\n    const {\n        id,\n        rentInterval,\n        personInfo: {firstName = 'Аноним', lastName = '', email = '', phone = ''} = {},\n        additionalPersons = null,\n        tariff = '',\n        percentageDiscount = 0,\n        moneyDiscount = 0,\n        price = 0,\n        comment=''\n    } = rentInfo\n    return (\n        <>\n            <RentWrapper onClick={openModal} cellDimensions={cellDimensions} viewRentInterval={viewRentInterval} forTooltip={`${id}`}>\n                {isUpdating.id === id && isUpdating.preloader && <RentPreloader/>}\n                {isLeftArrow && <Arrow position={'left'}>arrow_left</Arrow>}\n                {isRightArrow && <Arrow position={'right'}>arrow_right</Arrow>}\n                <FullName>{lastName} {firstName}</FullName>\n                <Tag top={0} right={0}>{price}</Tag>\n                <Tag bottom={0} left={0} background={'#2c79dc'}>{getTime(rentInterval.start)}</Tag>\n                <Tag bottom={0} right={0} background={'#2c79dc'}>{getTime(rentInterval.end)}</Tag>\n            </RentWrapper>\n            <ReactTooltip place=\"bottom\" type=\"dark\" effect=\"float\" id={`${id}`}>\n                <Ul>\n                    <li>Order №<TooltipSpan>{id}</TooltipSpan></li>\n                    <li>Check-in: <TooltipSpan>{dateToString(rentInterval.start)}</TooltipSpan> at <TooltipSpan>{getTime(rentInterval.start)}</TooltipSpan></li>\n                    <li>Check-out: <TooltipSpan>{dateToString(rentInterval.end)}</TooltipSpan> at <TooltipSpan>{getTime(rentInterval.end)}</TooltipSpan></li>\n                    <li>Nights: <TooltipSpan>{intervalLength(rentInterval)}</TooltipSpan></li>\n                    {lastName && firstName && <li>Guest: <TooltipSpan>{lastName} {firstName}</TooltipSpan></li>}\n                    {email && <li>Email: <TooltipSpan>{email}</TooltipSpan></li>}\n                    {phone && <li>Phone.: <TooltipSpan>{phone}</TooltipSpan></li>}\n                    {!!additionalPersons && <li>Additional persons.: <TooltipSpan>{additionalPersons}</TooltipSpan></li>}\n                    {tariff && <li>Tariff: <TooltipSpan>{tariff}</TooltipSpan></li>}\n                    {!!(percentageDiscount || moneyDiscount) && <li>Discount: <TooltipSpan>{percentageDiscount}% ({moneyDiscount} {currentCurrency}.)</TooltipSpan></li>}\n                    {!!price && <li>Total amount: <TooltipSpan>{price}.</TooltipSpan></li>}\n                    <li>Comment: <TooltipSpan>{comment ? 'Yes': 'No'}</TooltipSpan></li>\n                </Ul>\n            </ReactTooltip>\n        </>\n    )\n}","import {ErrorMessage, Field, Form, Formik, useField, useFormikContext} from 'formik'\nimport {SaveCloseButtons} from './SaveCloseButtons'\nimport React, {useContext, useEffect} from 'react'\nimport {dateToString, getTime, intervalLength, setTimeToDate} from '../../Utils/utils'\nimport {Icon} from '../simpleElements/Icon'\nimport {reversObjectProp} from '../../Utils/commonUtils'\nimport {currentCurrency, maxAdditionalPersons, priceAdditionalPerson} from '../../settings/settings'\nimport styled from 'styled-components'\nimport {Button} from '../simpleElements/Button'\nimport * as Yup from 'yup'\nimport {ErrorMessageElement, Fieldset, Legend} from '../simpleElements/StyledElements'\nimport {ModalContext} from '../context'\nimport ReactTooltip from 'react-tooltip'\n\n\nconst LikeFormField = styled.span`\n  border-radius: 3px;\n  border: 1px solid lightgrey;\n  border-left: #43b25a 5px solid;\n  background-color: white;\n  font-size: 1.1em;\n  margin: 1em;\n  text-align: center;\n  padding: 0.2em 0.5em;\n`\n\nconst H2 = styled.h2`\n  text-align: center;\n  margin: 10px 0;\n`\n\nexport function OrderCreationForm(props) {\n    const {\n        rentInfo, index, apartmentsType, apartmentId, tariffs, numberOfPersons, createUpdateRentInfo, deleteRentInfo,\n    } = props\n\n    const closeModal = useContext(ModalContext)\n\n    const {\n        id = null,\n        rentInterval,\n        personInfo: {firstName = 'Anonymous', lastName = '', email = '', phone = ''} = {},\n        additionalPersons = 0,\n        persons = 1,\n        tariff = '',\n        percentageDiscount = 0,\n        moneyDiscount = 0,\n        price = 0,\n        comment = '',\n    } = rentInfo\n\n    const tariffPrice = tariffs[tariff] || tariffs[`${apartmentsType}_${numberOfPersons}`]\n    const phoneRegExp = /^(\\+7|7|8)?[\\s\\-]?\\(?[489][0-9]{2}\\)?[\\s\\-]?[0-9]{3}[\\s\\-]?[0-9]{2}[\\s\\-]?[0-9]{2}$/\n\n    return (\n        <Formik\n            initialValues={{\n                firstName, lastName, email, phone, additionalPersons, percentageDiscount, moneyDiscount, persons,\n                comment, price,\n                checkInTime: getTime(rentInterval.start),\n                checkOutTime: getTime(rentInterval.end),\n                tariff: tariffPrice,\n                checkIn: dateToString(rentInterval.start),\n                nights: intervalLength(rentInterval),\n                checkOut: dateToString(rentInterval.end),\n                closeOnSave: true,\n            }}\n\n            validationSchema={Yup.object({\n                firstName: Yup.string()\n                    .max(15, 'Must be 15 characters or less')\n                    .required('Name Required'),\n                lastName: Yup.string()\n                    .max(20, 'Must be 20 characters or lessв')\n                    .required('Surname Required'),\n                email: Yup.string().email('Invalid email address').required('E-mail Required'),\n                phone: Yup.string().matches(phoneRegExp, 'Invalid phone number'),\n                price: Yup.string().test('', 'The amount must be positive', value => parseFloat(value) >= 0),\n            })}\n\n            onSubmit={(values) => {\n                const newRentInfo = {\n                    rentInterval: {\n                        start: setTimeToDate(rentInterval.start, values.checkInTime).getTime(),\n                        end: setTimeToDate(rentInterval.end, values.checkOutTime).getTime()\n                    },\n                    personInfo: {\n                        firstName: values.firstName,\n                        lastName: values.lastName,\n                        email: values.email,\n                        phone: values.phone\n                    },\n                    additionalPersons: values.additionalPersons,\n                    persons: values.persons,\n                    tariff: reversObjectProp(tariffs)[values.tariff],\n                    percentageDiscount: values.percentageDiscount,\n                    moneyDiscount: values.moneyDiscount,\n                    price: values.price,\n                    comment: values.comment,\n                    apartmentId: Number(apartmentId),\n                    id\n                }\n                const operation = newRentInfo.id ? 'update' : 'create'\n                createUpdateRentInfo(operation, apartmentsType, index, apartmentId, newRentInfo)\n                values.closeOnSave && closeModal()\n            }}\n        >\n            <Form>\n                <H2>\n                    Order creation form\n                    <span data-tip data-for=\"deleteMessage\" style={{float:'right'}}>\n                        <Button\n                            iconName={'delete'}\n                            background={'red'}\n                            type={'button'}\n                            onClick={() => {\n                                deleteRentInfo(apartmentsType, index, apartmentId, id)\n                                closeModal()\n                            }}\n                        />\n                    </span>\n                    <ReactTooltip place=\"bottom\" type=\"error\" effect=\"float\" id={`deleteMessage`}>\n                        <em><strong>Immediate removal!!!</strong></em>\n                    </ReactTooltip>\n                </H2>\n\n                <Fieldset>\n                    <Legend><strong>Guest</strong></Legend>\n                    <label htmlFor=\"firstName\">Name</label>\n                    <Field name=\"firstName\" type=\"text\" autoFocus={true}/>\n\n                    <label htmlFor=\"lastName\">Surname</label>\n                    <Field name=\"lastName\" type=\"text\"/>\n                    <ErrorMessage component={ErrorMessageElement} name=\"firstName\"/>\n                    <ErrorMessage component={ErrorMessageElement} name=\"lastName\"/>\n                    <br/>\n                    <label htmlFor=\"email\">E-mail</label>\n                    <Field name=\"email\" type=\"email\"/>\n\n                    <label htmlFor=\"phone\">Phone number</label>\n                    <Field name=\"phone\" type=\"text\"/>\n                    <ErrorMessage component={ErrorMessageElement} name=\"email\"/>\n                    <ErrorMessage component={ErrorMessageElement} name=\"phone\"/>\n                </Fieldset>\n\n                <Fieldset>\n                    <Legend><strong>Check-in(out)</strong></Legend>\n                    <label htmlFor=\"checkIn\">Check-in</label>\n                    <Field name=\"checkIn\" type=\"text\" readOnly/>\n\n                    <label htmlFor=\"checkInTime\"/>\n                    <Field name=\"checkInTime\" type=\"time\"/>\n\n                    <label htmlFor=\"nights\">Nights</label>\n                    <Field name=\"nights\" type=\"text\" size=\"4\" readOnly/>\n\n                    <label htmlFor=\"checkOut\">Check-out</label>\n                    <Field name=\"checkOut\" type=\"text\" readOnly/>\n\n                    <label htmlFor=\"checkOutTime\"/>\n                    <Field name=\"checkOutTime\" type=\"time\"/>\n                </Fieldset>\n\n                <Fieldset>\n                    <Legend><strong>Additional persons</strong></Legend>\n                    <label htmlFor=\"persons\" title={`от 1 до ${numberOfPersons}`}>\n                    <Icon>group</Icon>\n                    </label>\n                    <Field name=\"persons\" type=\"number\" min={1} max={numberOfPersons}\n                           title={`от 1 до ${numberOfPersons}`}/>\n\n                    <label htmlFor=\"additionalPersons\">\n                        <Icon>group_add</Icon>\n                    </label>\n                    <Field name=\"additionalPersons\" as=\"select\">\n                        {[...Array(maxAdditionalPersons).keys()].map(num => <option value={num}\n                                                                                    key={num}>{num}</option>)}\n                    </Field>\n                    <InfoFormField fieldName={'additionalPersons'} isAdditionalPersons/>\n                </Fieldset>\n\n                <Fieldset>\n                    <Legend><strong>Rates and discounts</strong></Legend>\n                    <label htmlFor=\"tariff\">Tariff</label>\n                    <Field name=\"tariff\" as=\"select\">\n                        {Object.keys(tariffs).map(tariff => <option value={tariffs[tariff]}\n                                                                    key={tariff}>{tariff}</option>)}\n                    </Field>\n                    <InfoFormField fieldName={'tariff'}/>\n\n                    <label htmlFor=\"percentageDiscount\">Discount %</label>\n                    <Field name=\"percentageDiscount\" type=\"number\" min={0} max={100}/>\n\n                    <label htmlFor=\"moneyDiscount\">Discount</label>\n                    <Field name=\"moneyDiscount\" type=\"number\" min={0}/>\n                    <span>{currentCurrency}</span>\n                </Fieldset>\n\n                <Fieldset>\n                    <Legend><strong>Total amount</strong></Legend>\n                    <label htmlFor=\"price\">Total amount</label>\n                    <PriceField name=\"price\" type=\"text\" rentInterval={rentInterval} readOnly/>\n                </Fieldset>\n\n                <Fieldset>\n                    <Legend><strong>Comment</strong></Legend>\n                    <Field name=\"comment\" as=\"textarea\" rows={5} cols={70}/>\n                </Fieldset>\n\n                <label htmlFor=\"closeOnSave\">Close on save: </label>\n                <Field name=\"closeOnSave\" type=\"checkbox\" style={{verticalAlign: 'middle', marginLeft: '10px'}}/>\n\n                <SaveCloseButtons />\n            </Form>\n        </Formik>\n    )\n}\n\nfunction InfoFormField(props) {\n    const {fieldName, isAdditionalPersons} = props\n    let {values: {[fieldName]: field},} = useFormikContext()\n    const personsAddsSum = field * priceAdditionalPerson || false\n    return (\n        <>\n            {isAdditionalPersons && personsAddsSum && <>=<LikeFormField>{personsAddsSum} {currentCurrency}</LikeFormField></>}\n            {!isAdditionalPersons && <>=<LikeFormField>{field} {currentCurrency}</LikeFormField></>}\n        </>\n    )\n}\n\nfunction getPrice(days, tariff = 0, additionalPersons) {\n    additionalPersons = Number(additionalPersons) || 0\n    tariff = Number(tariff) || 0\n    const price = days * tariff + additionalPersons * priceAdditionalPerson\n\n    return Number(price.toFixed(2))\n}\n\nfunction PriceField(props) {\n    const {rentInterval, name, ...restProps} = props\n    const {\n        values: {\n            tariff,\n            percentageDiscount,\n            moneyDiscount,\n            additionalPersons,\n        },\n        setFieldValue,\n    } = useFormikContext()\n    const [field, meta] = useField(name)\n\n    useEffect(() => {\n        const price = getPrice(intervalLength(rentInterval), tariff, additionalPersons)\n        const moneyDiscountCalc = Number((price * percentageDiscount / 100).toFixed(2)) || moneyDiscount\n\n        setFieldValue(name, `${price - moneyDiscountCalc} ${currentCurrency}`)\n        setFieldValue('moneyDiscount', moneyDiscountCalc)\n\n    }, [tariff, percentageDiscount, additionalPersons, moneyDiscount, rentInterval, name])\n\n    return (\n        <>\n            <input {...restProps} {...field} />\n            {!!meta.touched && !!meta.error && <ErrorMessageElement>{meta.error}</ErrorMessageElement>}\n        </>\n    )\n}","export function convertArrayOfObjectsToObjectOfObjects (key, array) {\n    return array.reduce((acc, itemObj) => {\n        acc[itemObj[key]] = itemObj\n        return acc\n    }, {})\n}\n\nexport function convertObjectWithArraysToObjectWithObjects (key, object) {\n    return Object.keys(object).reduce((acc, objKey) => {\n        acc[objKey] = convertArrayOfObjectsToObjectOfObjects(key, object[objKey])\n        return acc\n    }, {})\n}\n\nexport function reversObjectProp(obj) {\n    return Object.keys(obj).reduce((acc, objKey) => {\n        acc[obj[objKey]] = objKey\n        return acc\n    }, {})\n}\n\nexport function CreateViewRentIntervals(apartments) {\n    return Object.keys(apartments).reduce((acc, apartmentType) => {\n        for (const apartment of apartments[apartmentType]) {\n            let arr=[]\n            for (const itemRentInfo of apartment.rentInfo) {\n                arr.push(itemRentInfo.rentInterval)\n            }\n            if(arr.length) acc[apartment.id] = arr\n        }\n        return acc\n    }, {})\n}","import React from 'react'\nimport styled from 'styled-components'\nimport {TodayMarker} from '../../simpleElements/TodayMarker'\nimport {Rent} from '../Rent'\nimport {border, selectionColor, weekendColor} from '../../../settings/settings'\nimport {withModal} from '../../Modal/withModal'\nimport {OrderCreationForm} from '../../Forms/OrderCreationForm'\n\n\nconst CellWrapper = styled.div.attrs(props =>\n    ({'data-date': props.date, 'data-apartment_id': props.apartmentId, 'data-apartments_type': props.apartmentsType}))`\n  position: relative;\n  text-align: center;\n  user-select: none;\n  border: ${props => props.isSelect ? 'none' : border};\n  background-color: ${props => props.isSelect ? selectionColor : props.isWeekend ? weekendColor : 'inherit'};\n  cursor: ${props => props.isSelect ? 'cell' : null};\n`\n\nconst TopString = styled.span`\n  color: midnightblue;\n  font-weight: ${props => props.topStringFontWeight || 'bold'};\n`\n\nconst BottomString = styled.span`\n  color: gray;\n  font-weight: ${props => props.bottomStringFontWeight || 'bold'};\n`\n\nconst ModalRent = withModal(Rent)\n\nexport function TableCell(props) {\n    const {\n        isWeekend, date, apartmentId, isSelect, apartmentsType, isToday, isRent, isLeftArrow, isRightArrow,\n        rentInfo, index, tariffs, numberOfPersons, isOpenModal, setIsOpenModal, createUpdateRentInfo, deleteRentInfo,\n        isUpdating,\n    } = props\n\n    const topString = props.topString ? <TopString>{props.topString}</TopString> : null\n    const bottomString = props.bottomString ? <BottomString>{props.bottomString}</BottomString> : null\n\n    return (\n        <CellWrapper\n            isWeekend={isWeekend}\n            date={date}\n            apartmentId={apartmentId}\n            isSelect={isSelect}\n            apartmentsType={apartmentsType}\n        >\n            {isToday && <TodayMarker/>}\n            {isRent &&\n            <ModalRent\n                cellDimensions={props.cellDimensions}\n                viewRentInterval={isRent}\n                isLeftArrow={isLeftArrow}\n                isRightArrow={isRightArrow}\n                rentInfo={rentInfo}\n                isOpenModal={isOpenModal}\n                setIsOpenModal={setIsOpenModal}\n                isUpdating={isUpdating}\n            >\n                <OrderCreationForm\n                    rentInfo={rentInfo}\n                    index={index}\n                    apartmentsType={apartmentsType}\n                    tariffs={tariffs}\n                    apartmentId={apartmentId}\n                    numberOfPersons={numberOfPersons}\n                    createUpdateRentInfo={createUpdateRentInfo}\n                    deleteRentInfo={deleteRentInfo}\n                />\n            </ModalRent>}\n            {topString}\n            <br/>\n            {bottomString}\n        </CellWrapper>\n    )\n}","import React from 'react'\n\n\nexport function TableRow({rowTitle, rowCells}) {\n    let firstCell\n\n    if (rowTitle) {\n        if (typeof rowTitle === 'object') {\n            firstCell = rowTitle\n        } else {\n            firstCell = <div>{rowTitle}</div>\n        }\n    }\n\n    return (\n        <>\n            {firstCell} {rowCells}\n        </>\n    \n    )\n}","import React, {useState} from 'react'\nimport DayPickerInput from 'react-day-picker/DayPickerInput';\nimport { DateUtils } from 'react-day-picker';\nimport 'react-day-picker/lib/style.css';\nimport dateFnsFormat from 'date-fns/format';\nimport dateFnsParse from 'date-fns/parse';\nimport {ru} from 'date-fns/locale'\n\n\nconst WEEKDAYS_SHORT = {\n    ru: ['Вс', 'Пн', 'Вт', 'Ср', 'Чт', 'Пт', 'Сб'],\n}\n\nconst MONTHS = {\n    ru: [\n        'Январь',\n        'Февраль',\n        'Март',\n        'Апрель',\n        'Май',\n        'Июнь',\n        'Июль',\n        'Август',\n        'Сентябрь',\n        'Октябрь',\n        'Ноябрь',\n        'Декабрь',\n    ],\n}\n\nconst WEEKDAYS_LONG = {\n    ru: [\n        'Воскресенье',\n        'Понедельник',\n        'Вторник',\n        'Среда',\n        'Четверг',\n        'Пятница',\n        'Суббота',\n    ],\n}\n\nconst FIRST_DAY_OF_WEEK = {\n    ru: 1,\n}\n\nconst LABELS = {\n    ru: { nextMonth: 'следующий месяц', previousMonth: 'предыдущий месяц' },\n}\n\nfunction parseDate(str, format, locale) {\n    const parsed = dateFnsParse(str, format, new Date(), { locale })\n    if (DateUtils.isDate(parsed)) {\n        return parsed\n    }\n    return undefined\n}\n\nfunction formatDate(date, format, locale) {\n    return dateFnsFormat(date, format, { locale })\n}\n\nexport function DatePicker(props) {\n    const [state, setState] = useState({selectedDay: props.fromDay, isEmpty: !props.fromDay})\n\n    function handleDayChange(selectedDay, modifiers, dayPickerInput) {\n        const input = dayPickerInput.getInput();\n        setState({selectedDay, isEmpty: !input.value.trim()})\n    }\n\n    function handleDayPickerHide({selectedDay, isEmpty}, {shiftFrom}) {\n        if (selectedDay && !isEmpty) shiftFrom(selectedDay)\n    }\n\n    const FORMAT = 'dd-MM-yyyy';\n    const locale = 'ru'\n    return (\n            <DayPickerInput\n                dayPickerProps={{\n                    todayButton: 'Today',\n                    // locale: ru,\n                    // months: MONTHS[locale],\n                    // weekdaysLong: WEEKDAYS_LONG[locale],\n                    // weekdaysShort: WEEKDAYS_SHORT[locale],\n                    // firstDayOfWeek: FIRST_DAY_OF_WEEK[locale],\n                    // labels: LABELS[locale],\n                }}\n                formatDate={formatDate}\n                format={FORMAT}\n                parseDate={parseDate}\n                placeholder={`${dateFnsFormat(props.fromDay, FORMAT)}`}\n                selectedDay={props.fromDay}\n                value={props.fromDay}\n                keepFocus={false}\n                inputProps={{name: props.name, type: props.type}}\n                onDayChange={handleDayChange}\n                onDayPickerHide={()=>handleDayPickerHide(state, props)}\n            />\n    )\n}\n","import {Button} from '../../simpleElements/Button'\nimport React from 'react'\nimport styled from 'styled-components'\nimport {DatePicker} from './DatePicker'\nimport {border} from '../../../settings/settings'\n\n\nconst Wrapper = styled.div`\n  grid-row: 1/3;\n  border: ${border};\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n`\n\nconst DateChoiceWrapper = styled.div`\n  display: flex;\n  justify-content: space-around;\n`\n\nconst ColumnTitle = styled.div`\ntext-align: center;\n`\n\nexport function FirstHeaderCell(props) {\n    const {shiftFrom, fromDay, onClick} = props\n\n    return (\n        <Wrapper>\n            <DateChoiceWrapper>\n                <DatePicker shiftFrom={shiftFrom} fromDay={fromDay}/>\n                <Button iconName={\"schedule\"} onClick={onClick} isFlex/>\n            </DateChoiceWrapper>\n            <ColumnTitle>Номера</ColumnTitle>\n        </Wrapper>\n    )\n}","import React from 'react'\nimport {TableCell} from './Table-cell/TableCell'\nimport {eachMonthOfInterval, isToday, isWeekend} from 'date-fns'\nimport {TableRow} from './TableRow'\nimport {dayOfMonth, dayOfWeek, toMonths} from '../../Utils/utils'\nimport {FirstHeaderCell} from './Table-cell/FirstHeaderCell'\n\n\nexport function TableHeader({interval, days, ...props}) {\n    const shiftLeft = props.shiftDateIntervalLeft\n    const shiftRight = props.shiftDateIntervalRight\n    const shiftNow = props.shiftDateIntervalNow\n    const shiftFrom = props.shiftDateIntervalFrom\n\n    const months = eachMonthOfInterval(interval)\n\n    const headerDaysCells = days.map(day =>\n        <TableCell\n            topString={dayOfMonth(day)}\n            bottomString={dayOfWeek(day)}\n            isWeekend={isWeekend(day)}\n            isToday={isToday(day)}\n            key={day}\n        />)\n\n    const monthsCells = months.map(toMonths(interval, months, shiftLeft, shiftRight))\n\n    return (\n        <>\n            <FirstHeaderCell onClick={shiftNow} shiftFrom={shiftFrom} fromDay={interval.start}/>\n            <TableRow rowCells={monthsCells}/>\n            <TableRow rowCells={headerDaysCells}/>\n        </>\n    )\n}","import React, {useEffect} from 'react'\nimport {isSameDay, isWeekend, isWithinInterval,} from 'date-fns'\nimport {TableCell} from './Table-cell/TableCell'\nimport {\n    dayOfMonth,\n    isArrow,\n    isDayBefore,\n    isDayStartRentalInterval,\n    isSelectInterval\n} from '../../Utils/utils'\nimport {TableRow} from './TableRow'\nimport styled from 'styled-components'\nimport {border, displayFlexAlignCenter, weekendColor} from '../../settings/settings'\n\n\nconst Cell = styled.div`\n  ${displayFlexAlignCenter};\n  border: ${border};\n  justify-content: ${({position}) => position ? position : 'center'};\n  background-color: ${({isWeekend}) => isWeekend ? weekendColor : 'inherit'};\n  font-weight: ${({weight}) => weight ? weight : 600};\n  padding-left: ${({position}) => position ? '1em' : null};\n`\n\nexport function TableBody(props) {\n    const {\n        apartments, apartmentId, freeApartments, ...restProps} = props\n\n    const freeApartmentsCells = (apartmentsByType) => {\n        return freeApartments[apartmentsByType].map(obj => <Cell isWeekend={isWeekend(obj.day)} weight={800} key={obj.day}> {obj.freeApartments} </Cell>)\n    }\n\n    return (\n        <>\n            {Object.keys(apartments).map(apartmentsType =>\n                <React.Fragment key={apartmentsType}>\n                    <TableRow rowCells={freeApartmentsCells(apartmentsType)} rowTitle={<Cell>{apartmentsType}</Cell>}/>\n                    <ApartmentsRowsByNumbers\n                        apartmentsByType={apartments[apartmentsType]}\n                        apartmentsType={apartmentsType}\n                        apartmentIdForSelect={apartmentId}\n                        {...restProps}\n                    />\n                </React.Fragment>)}\n        </>\n    )\n}\n\nfunction ApartmentsRowsByNumbers(props) {\n    const {\n        days, apartmentsByType, apartmentsType, apartmentIdForSelect, selectInterval, cellDimensions, viewRentIntervals,\n        leftSideShiftLeftViewRentInterval, leftSideShiftRightViewRentInterval, rightSideShiftLeftViewRentInterval,\n        rightSideShiftRightViewRentInterval, tariffs, isOpenModal, setIsOpenModal, interval, createUpdateRentInfo,\n        deleteRentInfo, isUpdating,\n    } = props\n\n    useEffect(() => {\n        Object.keys(viewRentIntervals).forEach(id => {\n            if (id in apartmentsByType) {\n                for (let i = 0; i < viewRentIntervals[id]?.length; i++) {\n                        const {start, end} = viewRentIntervals[id][i]\n                    if (isWithinInterval(start, interval) || isWithinInterval(end, interval)) {\n                        const apartmentRentInterval = apartmentsByType[id].rentInfo[i].rentInterval\n                        const firstTableDay = days[0]\n                        const lastTableDay = days[days.length - 1]\n\n                        if (!isSameDay(start, end) && isDayBefore(start, firstTableDay)) {\n                            leftSideShiftLeftViewRentInterval(id, i)\n                        }\n                        if (!isSameDay(lastTableDay, end) && isDayBefore(lastTableDay, end)) {\n                            rightSideShiftLeftViewRentInterval(id, i)\n                        }\n                        if (!isSameDay(start, apartmentRentInterval?.start) && isDayBefore(firstTableDay, start)) {\n                            leftSideShiftRightViewRentInterval(id, i)\n                        }\n                        if (!isSameDay(end, apartmentRentInterval?.end) && isDayBefore(end, lastTableDay)) {\n                            rightSideShiftRightViewRentInterval(id, i)\n                        }\n                    }\n\n                }\n            }\n        })\n    }, [days, viewRentIntervals, apartmentsByType])\n\n    function bodyDaysCells(id, apartmentsType, days) {\n        return days.map(day => {\n            let [isRent, index] = isDayStartRentalInterval(viewRentIntervals[id], day) || [false, false]\n            return <TableCell\n                bottomString={dayOfMonth(day)}\n                isWeekend={isWeekend(day)}\n                date={day}\n                key={day}\n                isRent={isRent}\n                apartmentId={id}\n                apartmentsType={apartmentsType}\n                cellDimensions={cellDimensions}\n                rentInfo={apartmentsByType[id]?.rentInfo[index]}\n                index={index}\n                isSelect={isSelectInterval(selectInterval, day, apartmentIdForSelect, id)}\n                isLeftArrow={isArrow(viewRentIntervals, apartmentsByType, id, index, 'start')}\n                isRightArrow={isArrow(viewRentIntervals, apartmentsByType, id, index, 'end')}\n                tariffs={tariffs}\n                numberOfPersons={apartmentsByType[id].numberOfPersons}\n                isOpenModal={isOpenModal}\n                setIsOpenModal={setIsOpenModal}\n                createUpdateRentInfo={createUpdateRentInfo}\n                deleteRentInfo={deleteRentInfo}\n                isUpdating={isUpdating}\n            />\n        })\n    }\n\n    return (\n        <>\n            {Object.keys(apartmentsByType)\n                .sort((a,b)=>apartmentsByType[a].numberOfPersons - apartmentsByType[b].numberOfPersons)\n                .map(apartmentId => {\n                return (\n                    <React.Fragment key={apartmentId}>\n                        <Cell position={'flex-start'}\n                              weight={500}\n                              key={apartmentsByType[apartmentId].apartmentsNumber}\n                        >\n                            {apartmentsByType[apartmentId].apartmentsNumber} ({apartmentsByType[apartmentId].numberOfPersons})\n                        </Cell>\n                        {bodyDaysCells(apartmentId, apartmentsType, days)}\n                    </React.Fragment>)\n            })}\n        </>\n    )\n}\n","import * as axios from \"axios\";\n\n\nconst instance = axios.create({\n    // baseURL: 'https://my-json-server.typicode.com/Alex-Kharin/hotelms-clone-db',\n    baseURL: 'http://localhost:3001',\n    headers: {\n        \"Content-Type\": \"application/json\"\n    }\n})\n\nexport const apartmentsApi = {\n    getApartments() {\n        return instance.get(`apartments`).then(response => response.data)\n    },\n\n    getRentInfo() {\n        return instance.get(`rentInfo`).then(response => response.data)\n    },\n\n    updateRentInfo(newRentInfo) {\n        return instance.patch(`rentInfo/` + newRentInfo.id, newRentInfo)\n    },\n\n    createRentInfo(newRentInfo) {\n        return instance.post(`rentInfo`, newRentInfo)\n    },\n\n    deleteRentInfo(rentInfoId) {\n        return instance.delete(`rentInfo/` + rentInfoId)\n    }\n\n}","import {addDays, areIntervalsOverlapping, subDays} from 'date-fns'\nimport {\n    adjustsInterval,\n    collectObjects,\n    createApartments,\n    CreateViewRentIntervals,\n    shifterViewedRentIntervals\n} from '../Utils/utils'\nimport {borderWidth, gridAutoRowsHeight, gridColumnsWidth, tariffs} from '../settings/settings'\nimport {apartmentsApi} from '../api/api'\n\n\nconst APARTMENTS = 'APARTMENTS'\nconst VIEW_RENT_INTERVALS = 'VIEW_RENT_INTERVALS'\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\nconst TOGGLE_IS_UPDATING = 'TOGGLE_IS_UPDATING'\nconst IS_SELECT = 'IS_SELECT'\nconst START_SELECTION_INTERVAL = 'START_SELECTION_INTERVAL'\nconst END_SELECTION_INTERVAL = 'END_SELECTION_INTERVAL'\nconst CLEAR_SELECTED_DAYS = 'CLEAR_SELECTED_DAYS'\nconst APARTMENT_ID = 'APARTMENT_ID'\nconst RENT_INTERVAL = 'RENT_INTERVAL'\nconst LEFT_SIDE_SHIFT_LEFT_VIEW_RENT_INTERVAL = 'LEFT_SIDE_SHIFT_LEFT_VIEW_RENT_INTERVAL'\nconst LEFT_SIDE_SHIFT_RIGHT_VIEW_RENT_INTERVAL = 'LEFT_SIDE_SHIFT_RIGHT_VIEW_RENT_INTERVAL'\nconst RIGHT_SIDE_SHIFT_LEFT_VIEW_RENT_INTERVAL = 'RIGHT_SIDE_SHIFT_LEFT_VIEW_RENT_INTERVAL'\nconst RIGHT_SIDE_SHIFT_RIGHT_VIEW_RENT_INTERVAL = 'RIGHT_SIDE_SHIFT_RIGHT_VIEW_RENT_INTERVAL'\nconst RENT_INFO = 'RENT_INFO'\nconst OPEN_MODAL = 'OPEN_MODAL'\nconst CANCEL_RENT = 'CANCEL_RENT'\n\n\nconst initialState = {\n    apartments: {},\n    tariffs,\n    isFetching: true,\n    isUpdating: {preloader: false, id: null},\n    isSelect: false,\n    isOpenModal: false,\n    selectInterval: {start: null, end: null},\n    apartmentId: null,\n    cellDimensions:{\n        width: gridColumnsWidth - 2 * borderWidth,\n        height: gridAutoRowsHeight - 2 * borderWidth\n    },\n    viewRentIntervals: {},\n}\n\n\nfunction tableApartmentsReducer(state = initialState, action) {\n    switch (action.type) {\n        case APARTMENTS: {\n            return {\n                ...state,\n                apartments: action.apartments\n            }\n        }\n        case VIEW_RENT_INTERVALS: {\n            return {\n                ...state,\n                viewRentIntervals: action.viewRentIntervals\n            }\n        }\n        case TOGGLE_IS_FETCHING: {\n            return {...state, isFetching: action.isFetching}\n        }\n        case TOGGLE_IS_UPDATING: {\n            return {...state,\n                isUpdating: {preloader: action.preloader, id: action.id}\n            }\n        }\n        case IS_SELECT: {\n            return {\n                ...state,\n                isSelect: action.isSelect\n            }\n        }\n        case START_SELECTION_INTERVAL: {\n            return {\n                ...state,\n                selectInterval: {start: action.startSelection, end: action.startSelection}\n            }\n        }\n        case END_SELECTION_INTERVAL: {\n            return {\n                ...state,\n                selectInterval: {...state.selectInterval, end: action.endSelection}\n            }\n        }\n        case APARTMENT_ID: {\n            return {\n                ...state,\n                apartmentId: action.apartmentId,\n            }\n        }\n        case CLEAR_SELECTED_DAYS: {\n            return {\n                ...state,\n                selectInterval: {},\n            }\n        }\n        case RENT_INTERVAL: {\n            const rentInfo = state.apartments[action.apartmentsType][state.apartmentId].rentInfo\n            if (rentInfo.some(item => areIntervalsOverlapping(item.rentInterval, action.rentInterval))) return state\n\n            return {\n                ...state,\n                apartments: {\n                    ...state.apartments, [action.apartmentsType]: {\n                        ...state.apartments[action.apartmentsType],\n                        [state.apartmentId]: {\n                            ...state.apartments[action.apartmentsType][state.apartmentId],\n                            rentInfo: [...state.apartments[action.apartmentsType][state.apartmentId].rentInfo, {rentInterval: action.rentInterval}]\n                        }\n                    }\n                },\n                viewRentIntervals: {\n                    ...state.viewRentIntervals,\n                    [state.apartmentId]: [...state.viewRentIntervals[state.apartmentId] || [], action.rentInterval]\n                }\n            }\n        }\n        case LEFT_SIDE_SHIFT_LEFT_VIEW_RENT_INTERVAL: {\n            return shifterViewedRentIntervals(state, action, 'start', addDays)\n        }\n        case LEFT_SIDE_SHIFT_RIGHT_VIEW_RENT_INTERVAL: {\n            return shifterViewedRentIntervals(state, action, 'start', subDays)\n        }\n        case RIGHT_SIDE_SHIFT_LEFT_VIEW_RENT_INTERVAL: {\n            return shifterViewedRentIntervals(state, action, 'end', subDays)\n        }\n        case RIGHT_SIDE_SHIFT_RIGHT_VIEW_RENT_INTERVAL: {\n            return shifterViewedRentIntervals(state, action, 'end', addDays)\n        }\n        case RENT_INFO: {\n            state = {...state }\n            state.apartments = {...state.apartments}\n            state.apartments[action.apartmentsType] = {...state.apartments[action.apartmentsType]}\n            state.apartments[action.apartmentsType][action.apartmentId]={...state.apartments[action.apartmentsType][action.apartmentId]}\n            state.apartments[action.apartmentsType][action.apartmentId].rentInfo = [...state.apartments[action.apartmentsType][action.apartmentId].rentInfo]\n            state.apartments[action.apartmentsType][action.apartmentId].rentInfo[action.index] = action.rentInfo\n            return state\n        }\n        case OPEN_MODAL: {\n            return {\n                ...state,\n                isOpenModal: action.isOpenModal\n            }\n        }\n        case CANCEL_RENT: {\n            state = {...state }\n            state.apartments = {...state.apartments}\n            state.apartments[action.apartmentsType] = {...state.apartments[action.apartmentsType]}\n            state.apartments[action.apartmentsType][action.apartmentId]={...state.apartments[action.apartmentsType][action.apartmentId]}\n            state.apartments[action.apartmentsType][action.apartmentId].rentInfo=\n                state.apartments[action.apartmentsType][action.apartmentId].rentInfo.filter((_, index) => index !== action.index)\n\n            state.viewRentIntervals = {...state.viewRentIntervals}\n            state.viewRentIntervals[action.apartmentId] = state.viewRentIntervals[action.apartmentId].filter((_, index)=> index !== action.index)\n            return state\n        }\n        default:\n            return state\n    }\n}\n\nconst setApartments = (apartments) => ({type: APARTMENTS, apartments})\nconst setViewRentIntervals = (viewRentIntervals) => ({type: VIEW_RENT_INTERVALS, viewRentIntervals})\nconst toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\nconst toggleIsUpdating = (preloader, id) => ({type: TOGGLE_IS_UPDATING, preloader, id})\nconst setSelecting = (isSelect) => ({type: IS_SELECT, isSelect})\nconst setIsOpenModal = (isOpenModal) => ({type: OPEN_MODAL, isOpenModal})\nconst setStartSelection = (startSelection) => ({type: START_SELECTION_INTERVAL, startSelection})\nconst setEndSelection = (endSelection) => ({type: END_SELECTION_INTERVAL, endSelection})\nconst setApartmentId = (apartmentId) => ({type: APARTMENT_ID, apartmentId})\nconst clearSelectedDays = () => ({type: CLEAR_SELECTED_DAYS})\nconst leftSideShiftLeftViewRentInterval = (apartmentId, index) => ({\n    type: LEFT_SIDE_SHIFT_LEFT_VIEW_RENT_INTERVAL,\n    apartmentId, index\n})\nconst leftSideShiftRightViewRentInterval = (apartmentId, index) => ({\n    type: LEFT_SIDE_SHIFT_RIGHT_VIEW_RENT_INTERVAL,\n    apartmentId, index\n})\nconst rightSideShiftLeftViewRentInterval = (apartmentId, index) => ({\n    type: RIGHT_SIDE_SHIFT_LEFT_VIEW_RENT_INTERVAL,\n    apartmentId, index\n})\nconst rightSideShiftRightViewRentInterval = (apartmentId, index) => ({\n    type: RIGHT_SIDE_SHIFT_RIGHT_VIEW_RENT_INTERVAL,\n    apartmentId, index\n})\nconst setRentInterval = (apartmentsType, rentInterval) => ({\n    type: RENT_INTERVAL,\n    apartmentsType,\n    rentInterval\n})\nconst setRentInfo = (apartmentsType, index, apartmentId, rentInfo) => ({\n    type: RENT_INFO,\n    apartmentsType,\n    index,\n    apartmentId,\n    rentInfo\n})\nconst cancelRent = (apartmentsType, index, apartmentId) => ({\n    type: CANCEL_RENT,\n    apartmentsType,\n    index,\n    apartmentId\n})\n\nfunction requestApartments() {\n    return async (dispatch, getState) => {\n        dispatch(toggleIsFetching(true))\n\n        const apartmentsArray = await apartmentsApi.getApartments()\n        const rentInfos = await apartmentsApi.getRentInfo()\n\n        rentInfos.forEach(rentInfo => {\n            rentInfo.rentInterval.start = new Date(rentInfo.rentInterval.start)\n            rentInfo.rentInterval.end = new Date(rentInfo.rentInterval.end)\n            rentInfo.rentInterval = adjustsInterval(rentInfo.rentInterval)\n        })\n\n        const collection = collectObjects(apartmentsArray, rentInfos)\n        const apartments = createApartments(collection)\n        const viewRentIntervals = CreateViewRentIntervals(rentInfos, getState().table.interval)\n\n        dispatch(setApartments(apartments))\n        dispatch(setViewRentIntervals(viewRentIntervals))\n        dispatch(toggleIsFetching(false))\n    }\n\n}\n\nfunction createUpdateRentInfo(operation, apartmentsType, index, apartmentId, newRentInfo) {\n    return async function(dispatch) {\n        try {\n            dispatch(toggleIsUpdating(true, newRentInfo?.id))\n            const response = operation === 'create'\n                ? await apartmentsApi.createRentInfo(newRentInfo)\n                : operation === 'update'\n                    ? await apartmentsApi.updateRentInfo(newRentInfo)\n                    : null\n            if (response.statusText === 'OK' || response.statusText === 'Created') {\n                dispatch(setRentInfo(apartmentsType, index, apartmentId, response.data))\n            }\n        } catch (error){\n            console.error(error)\n        } finally {\n            dispatch(toggleIsUpdating(false, newRentInfo?.id))\n        }\n    }\n}\n\nfunction deleteRentInfo(apartmentsType, index, apartmentId, rentInfoId) {\n    return async function(dispatch) {\n        try {\n            dispatch(toggleIsUpdating(true, rentInfoId))\n            const response = await apartmentsApi.deleteRentInfo(rentInfoId)\n            if (response.statusText === 'OK') {\n                dispatch(cancelRent(apartmentsType, index, apartmentId))\n            }\n        } catch (error) {\n            console.error(error)\n        } finally {\n            if (apartmentsType && index && apartmentId && !rentInfoId) {\n                dispatch(cancelRent(apartmentsType, index, apartmentId))\n            }\n            dispatch(toggleIsUpdating(false, null))\n        }\n    }\n}\n\n\nexport {\n    tableApartmentsReducer,\n    setSelecting,\n    setStartSelection,\n    setEndSelection,\n    setApartmentId,\n    clearSelectedDays,\n    setRentInterval,\n    leftSideShiftLeftViewRentInterval,\n    leftSideShiftRightViewRentInterval,\n    rightSideShiftLeftViewRentInterval,\n    rightSideShiftRightViewRentInterval,\n    setIsOpenModal,\n    requestApartments,\n    createUpdateRentInfo,\n    deleteRentInfo,\n\n}\n\n\n\n\n","import {createSelector} from 'reselect'\nimport {areIntervalsOverlapping, eachDayOfInterval, isSameDay, set} from 'date-fns'\nimport {time} from '../settings/settings'\n\nexport const getApartments = (state) => state.tableApartments.apartments\nexport const getViewRentIntervals = (state) => state.tableApartments.viewRentIntervals\nexport const getCellDimensions = (state) => state.tableApartments.cellDimensions\nexport const getTariffs = (state) => state.tableApartments.tariffs\nexport const getIsOpenModal = (state) => state.tableApartments.isOpenModal\nexport const getIsFetching = (state) => state.tableApartments.isFetching\nexport const getIsUpdating = (state) => state.tableApartments.isUpdating\nexport const getDays = (state) => eachDayOfInterval(state.table.interval).map(day=>set(day, time))\n\nexport const getFreeApartments = createSelector(\n    getApartments,\n    getDays,\n    (apartments, days) => {\n\n        return Object.keys(apartments).reduce((acc, apartmentType) => {\n\n            for (let i = 0; i < days.length; i++) {\n                let freeApartments = Object.keys(apartments[apartmentType]).length\n                let day = days[i]\n                Object.values(apartments[apartmentType]).forEach(apartment => {\n                    if (apartment.rentInfo.some(item => areIntervalsOverlapping({\n                                start: day,\n                                end: day\n                            }, item.rentInterval, {inclusive: false}) ||\n                            (isSameDay(day, item.rentInterval.end) && apartment.rentInfo.some(element => isSameDay(day, element.rentInterval.start)))\n                    )) {\n                        freeApartments--\n                    }\n\n                })\n                acc[apartmentType] = [...acc[apartmentType] || [], {freeApartments, day}]\n            }\n\n            return acc\n        }, {})\n\n    }\n)","export default __webpack_public_path__ + \"static/media/preloader.ea356991.svg\";","import React from 'react'\nimport preloader from '../../assets/images/preloader.svg'\nimport styled from 'styled-components'\nimport {displayFlexAlignCenter} from '../../settings/settings'\n\n\nconst PreloaderWrapper = styled.div`\n  grid-column: 1/-1;\n  ${displayFlexAlignCenter};\n  justify-content: center;\n`\n\nexport const Preloader = () => {\n    return <PreloaderWrapper>\n        <img src={preloader} alt='preload...'/>\n    </PreloaderWrapper>\n}","import {connect} from 'react-redux'\nimport {TableBody} from './TableBody'\nimport {\n    leftSideShiftLeftViewRentInterval,\n    leftSideShiftRightViewRentInterval,\n    requestApartments,\n    rightSideShiftLeftViewRentInterval,\n    rightSideShiftRightViewRentInterval,\n    setIsOpenModal,\n    createUpdateRentInfo,\n    deleteRentInfo\n} from '../../store/tableApartmentsReducer'\nimport {\n    getApartments,\n    getCellDimensions, getDays,\n    getFreeApartments,\n    getIsFetching,\n    getIsOpenModal, getIsUpdating,\n    getTariffs,\n    getViewRentIntervals\n} from '../../store/tableBodyContainerSelectors'\nimport {useEffect} from 'react'\nimport {Preloader} from '../simpleElements/Preloader'\n\n\nexport function TableBodyContainer(props) {\n    const {isFetching, requestApartments} = props\n\n    useEffect(()=>{\n        if (isFetching) {\n            requestApartments()\n        }\n    }, [isFetching])\n\n    return(\n        <>\n            {isFetching && <Preloader/>}\n            {!isFetching && <TableBody {...props} />}\n        </>\n    )\n}\n\nfunction mapStateToProps(state, ownProps) {\n    return {\n        interval: ownProps.interval,\n        selectInterval: ownProps.selectInterval,\n        apartmentId: ownProps.apartmentId,\n        days: getDays(state),\n        apartments: getApartments(state),\n        cellDimensions: getCellDimensions(state),\n        viewRentIntervals: getViewRentIntervals(state),\n        tariffs: getTariffs(state),\n        isOpenModal: getIsOpenModal(state),\n        isFetching: getIsFetching(state),\n        isUpdating: getIsUpdating(state),\n        freeApartments: getFreeApartments(state)\n    }\n}\n\nconst mapDispatchToProps = {\n    leftSideShiftLeftViewRentInterval,\n    leftSideShiftRightViewRentInterval,\n    rightSideShiftLeftViewRentInterval,\n    rightSideShiftRightViewRentInterval,\n    setIsOpenModal,\n    requestApartments,\n    createUpdateRentInfo,\n    deleteRentInfo,\n\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TableBodyContainer)\n","import React from 'react'\nimport {TableHeader} from './TableHeader'\nimport styled from 'styled-components'\nimport {adjustsInterval} from '../../Utils/utils'\nimport {isSameDay} from 'date-fns'\nimport TableBodyContainer from './TableBodyContainer'\nimport {gridAutoRowsHeight, gridColumnsWidth, gridTemplateFirstColumnWidth} from '../../settings/settings'\n\n\nconst TableWrapper = styled.div`\n  display: grid;\n  grid-template-columns: ${gridTemplateFirstColumnWidth} repeat(${props => props.daysInTable}, ${gridColumnsWidth}px);\n  grid-auto-rows: minmax(${gridAutoRowsHeight}px, auto);\n  margin: 10px 10px -9px 10px;\n`\n\nexport function Table(props) {\n\n    const {days, interval, setApartmentId, setSelecting, setStartSelection,\n        selectInterval, setRentInterval, clearSelectedDays, isSelect, apartmentId, setEndSelection,\n        daysInTable, setIsOpenModal,\n    } = props\n\n    function handleSelect(event) {\n        const target = event.target.closest('div')\n        const dayStr = target.dataset.date\n        if (dayStr) {\n            const day = new Date(dayStr)\n\n            if (event.type === 'mousedown') {\n                setApartmentId(target.dataset.apartment_id)\n                setSelecting(true)\n                setStartSelection(day)\n            } else if (event.type === 'mouseup') {\n                if (selectInterval.start\n                    && selectInterval.end\n                    && !isSameDay(selectInterval.start, selectInterval.end)\n                    && target.dataset.apartment_id === apartmentId)\n                {\n                    setRentInterval(target.dataset.apartments_type, adjustsInterval(selectInterval))\n                    setIsOpenModal(true)\n                }\n                clearSelectedDays()\n                setSelecting(false)\n            }\n        }\n    }\n\n    function updateSelection(event) {\n        if (isSelect && event.target.dataset.apartment_id === apartmentId) {\n            let target = event.target\n            let dayStr = target.dataset.date\n\n            if (dayStr) {\n                const day = new Date(dayStr)\n                setEndSelection(day)\n            }\n        }\n    }\n\n    return (\n        <>\n            <TableWrapper daysInTable={daysInTable + 1}>\n                <TableHeader {...props} interval={interval} days={days}/>\n            </TableWrapper>\n\n            <TableWrapper daysInTable={daysInTable + 1}\n                          onMouseDown={handleSelect}\n                          onMouseUp={handleSelect}\n                          onMouseOver={updateSelection}\n            >\n                <TableBodyContainer selectInterval={selectInterval}\n                                    apartmentId={apartmentId}\n                                    interval={interval}\n                />\n            </TableWrapper>\n        </>\n    )\n}\n","import {createSelector} from 'reselect'\nimport {adjustsInterval} from '../Utils/utils'\n\n\nexport const getInterval = (state) => state.table.interval\nexport const getDaysInTable = (state) => state.table.daysInTable\nexport const getIsSelect = (state) => state.tableApartments.isSelect\nexport const getApartmentId = (state) => state.tableApartments.apartmentId\nexport const getSelectIntervalSelector = (state) => state.tableApartments.selectInterval\n\nexport const getSelectInterval = createSelector(\n    getSelectIntervalSelector,\n    selectInterval => adjustsInterval(selectInterval)\n)\n","import {connect} from \"react-redux\";\nimport {Table} from \"./Table\";\nimport {\n    shiftDateIntervalFrom,\n    shiftDateIntervalLeft,\n    shiftDateIntervalNow,\n    shiftDateIntervalRight,\n} from '../../store/tableReducer'\nimport {\n    clearSelectedDays,\n    setApartmentId,\n    setEndSelection, setIsOpenModal,\n    setRentInterval,\n    setSelecting,\n    setStartSelection,\n} from '../../store/tableApartmentsReducer'\nimport {\n    getApartmentId,\n    getDaysInTable,\n    getInterval,\n    getIsSelect,\n    getSelectInterval\n} from '../../store/tableContainerSelectors'\nimport {getDays} from '../../store/tableBodyContainerSelectors'\n\n\nfunction mapStateToProps(state) {\n    return {\n        interval: getInterval(state),\n        daysInTable: getDaysInTable(state),\n        days: getDays(state),\n        // days: eachDayOfInterval(state.table.interval).map(day=>set(day, time)),\n        isSelect: getIsSelect(state),\n        selectInterval: getSelectInterval(state),\n        apartmentId: getApartmentId(state),\n    }\n}\n\nconst mapDispatchToProps = {\n    shiftDateIntervalLeft,\n    shiftDateIntervalRight,\n    shiftDateIntervalFrom,\n    shiftDateIntervalNow,\n    setSelecting,\n    setStartSelection,\n    setEndSelection,\n    setApartmentId,\n    clearSelectedDays,\n    setRentInterval,\n    setIsOpenModal,\n\n}\n\n\nexport const TableContainer = connect(mapStateToProps, mapDispatchToProps)(Table)","import React from 'react'\nimport {TableContainer} from '../Table/TableContainer'\nimport styled from 'styled-components'\nimport {border, MainBgColor} from '../../settings/settings'\n\n\nconst MainWrapper = styled.main`\n  grid-area: main;\n  border: ${border};\n  background: ${MainBgColor};\n  overflow-x: auto;\n`\n\nexport function Main(props) {\n\n    return <MainWrapper>\n        <TableContainer/>\n    </MainWrapper>\n}","export default __webpack_public_path__ + \"static/media/img.b2708216.jpg\";","import * as React from 'react'\nimport styled from 'styled-components'\nimport img from '../../assets/img.jpg'\n\nconst DocWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 78%;\n  background-color: #d5d5d57f;\n  margin: 0 auto;\n  \n`\n\nexport function Documentation(props) {\n    return (\n        <DocWrapper>\n            <header>\n                <h1>Documentation</h1>\n            </header>\n            <article>\n                <h2>Grid</h2>\n                <p>\n                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Inventore, molestiae?\n                </p>\n                <img src={img} width={1024}/>\n                <p><b>More detail a little later. </b></p>\n            </article>\n        </DocWrapper>\n    )\n}","import * as React from 'react'\nimport {ErrorMessage, Field, Form, Formik, useFormikContext} from 'formik'\nimport {ErrorMessageElement, Fieldset, Legend} from '../simpleElements/StyledElements'\nimport {Button} from '../simpleElements/Button'\nimport styled from 'styled-components'\nimport {connect} from 'react-redux'\nimport {login} from '../../store/authReducer'\nimport {getIsAuth} from '../../store/headerContainerSelector'\nimport * as Yup from 'yup'\n\n\n\nconst LoginWrapper = styled.div`\n  width: 30%;\n  margin: 0 auto;\n`\n\nconst StyledFieldset = styled(Fieldset)`\n  display: flex;\n  flex-direction: column;\n`\n\nexport function Login(props) {\n    return (\n        <LoginWrapper>\n            <Formik\n                initialValues={{login: '', password: ''}}\n                validationSchema={Yup.object().shape({\n                    login: Yup.string()\n                        .min(2, 'Too Short!')\n                        .max(20, 'Too Long!')\n                        .required('Required'),\n                    password: Yup.string()\n                        .required(\"No password provided.\")\n                })}\n                onSubmit={(values, actions) => {\n                    props.login(values, actions)\n                }}\n            >\n                <Form>\n                    <StyledFieldset>\n                        <Legend><strong>Auth</strong></Legend>\n\n                        <Field name=\"login\" type=\"text\" placeholder=\"Login\" autoFocus={true} />\n                        <ErrorMessage component={ErrorMessageElement} name=\"login\"/>\n\n                        <Field name=\"password\" type=\"password\" placeholder=\"Password\"/>\n                        <ErrorMessage component={ErrorMessageElement} name=\"password\"/>\n\n                        <StatusField />\n                        <br/>\n                        <Submit />\n                    </StyledFieldset>\n                    <p>Login: <strong>user</strong></p>\n                    <p>Password: <strong>user</strong></p>\n                </Form>\n\n            </Formik>\n        </LoginWrapper>\n    )\n}\n\nfunction StatusField() {\n    const {errors} = useFormikContext()\n    return <ErrorMessageElement>{errors?.api}</ErrorMessageElement>\n}\n\nfunction Submit() {\n    const {errors, touched, isValid} = useFormikContext()\n    const isDisable = errors.api || !isValid || !touched.password || !touched.login\n    return <Button type=\"submit\" isDisable={isDisable}>Sign-in</Button>\n}\n\nfunction mapStateToProps(state) {\n    return {\n        isAuth: getIsAuth(state)\n    }\n}\n\nexport default connect(mapStateToProps, {login})(Login)","import {Main} from '../Main/Main'\nimport {Documentation} from '../pages/Documentation'\nimport Login from '../pages/Login'\n\n\nexport const privateRoutes = [\n    {path: '/', component: Main, exact: true},\n    {path: '/doc', component: Documentation, exact: true},\n]\n\nexport const publicRoutes = [\n    {path: '/login', component: Login, exact: true},\n    {path: '/doc', component: Documentation, exact: true},\n]\n","import React from 'react';\nimport {Redirect, Route, Switch} from \"react-router-dom\"\nimport {privateRoutes, publicRoutes} from './urls'\nimport {connect} from 'react-redux'\n\nconst AppRouter = (props) => {\n    const {isAuth} = props\n    const whichRoute = isAuth ? privateRoutes : publicRoutes\n    const toPath = isAuth ? '/' : '/login'\n    return (\n            <Switch>\n                {whichRoute.map(route =>\n                    <Route\n                        component={route.component}\n                        path={route.path}\n                        exact={route.exact}\n                        key={route.path}\n                    />\n                )}\n                <Redirect to={toPath}/>\n            </Switch>\n    )\n}\n\nfunction mapStateToProps(state) {\n    return {\n        isAuth: state.auth.isAuth,\n    }\n}\n\nexport default connect(mapStateToProps)(AppRouter);\n","import './App.css';\nimport {Footer} from \"./components/Footer/Footer\";\nimport {HeaderContainer} from './components/Header/HeaderContainer'\nimport {BrowserRouter} from 'react-router-dom'\nimport AppRouter from './components/AppRouter/AppRouter'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n        <BrowserRouter>\n            <HeaderContainer/>\n            <AppRouter/>\n            <Footer/>\n        </BrowserRouter>\n    </div>\n  )\n}\n\nexport default App\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {applyMiddleware, combineReducers, compose, createStore} from 'redux'\nimport {tableReducer} from './tableReducer'\nimport {tableApartmentsReducer} from './tableApartmentsReducer'\nimport ReduxThunk from 'redux-thunk'\nimport authReducer from './authReducer'\n\nlet reducers = combineReducers({\n    table: tableReducer,\n    tableApartments: tableApartmentsReducer,\n    auth: authReducer,\n})\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\nexport let store = createStore(reducers,  composeEnhancers(applyMiddleware(ReduxThunk)))\n\nwindow.store = store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store/store\";\n\nReactDOM.render(\n  \n  <React.StrictMode>\n      <Provider store={store}>\n          <App />\n      </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}